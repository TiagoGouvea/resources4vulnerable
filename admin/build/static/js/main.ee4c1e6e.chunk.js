(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{344:function(e,t){e.exports={"@primary-color":"#1890ff","@link-color":"#1890ff","@success-color":"#52c41a","@warning-color":"#faad14","@error-color":"#f5222d","@font-size-base":"14px","@heading-color":"rgba(0, 0, 0, 0.85)","@text-color":"rgba(0, 0, 0, 0.65)","@text-color-secondary":"rgba(0, 0, 0, 0.45)","@disabled-color":"rgba(0, 0, 0, 0.25)","@border-radius-base":"4px","@border-color-base":"#d9d9d9","@box-shadow-base":"0 2px 8px rgba(0, 0, 0, 0.15)","@table-background":"#ffffff","@table-hover-background":"#f7fff1"}},380:function(e,t,n){e.exports=n(687)},587:function(e,t){},589:function(e,t){},625:function(e,t){},626:function(e,t){},687:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=n(23),l=n.n(c),u=n(339),d=n.n(u),s=n(9),m=n(5),f=n(341),p=n(15);function b(){var e=Object(p.a)(["\n  html, #root {\n    width: 100%;\n    height: 100%;\n    background-color: ",';\n    scroll-behavior: smooth;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  #root {\n    > * {      \n      &:first-child, [role~="group"], [tabindex="-1"] {\n        height: 100%;\n      }\n    }\n  }\n\n  body {\n    width: 100%;\n    height: 100%;    \n    overflow-x: hidden;\n  }\n']);return b=function(){return e},e}var h,E=Object(s.b)(b(),(function(e){return e.theme.colors.background})),v=n(35),g=n(344),j=n.n(g),O=768,x=992,y=1025,S=1440,C={xs:"".concat(576,"px"),sm:"".concat(O,"px"),md:"".concat(x,"px"),lg:"".concat(y,"px"),xl:"".concat(S,"px")},k={name:"Default",colors:Object(v.a)({background:"#f6f7f8",agendaRoomBackground:"#999",agendaRoomBorder:"#000"},j.a),breakpoints:C,spacing:{none:"0px",xs:"4px",sm:"8px",default:"16px",md:"32px",lg:"48px",xl:"72px"}},I=n(30),w=n(154),T=n(260),A=n(345),$=n.n(A),L=n(86),N=n(3),R=n(12),F=n.n(R),V=n(21),_=n(346),D=n.n(_),q="sidebar:collapsed",G={"extreme-poverty":{code:1,title:"Extrema pobreza"},"poverty-line":{code:2,title:"Linha da pobreza"},cad:{code:3,title:"Perfil CAD \xfanico"}},U={admin:{title:"Administrador"},operator:{title:"Operador"},manager:{title:"Gerente"},financial:{title:"Financeiro"}},P=localStorage.getItem("persist:".concat("root")),z=P?JSON.parse(P):void 0,B=z?JSON.parse(z.authReducer):void 0,M=D.a.create({baseURL:"http://localhost:3001",headers:B&&B.token?{Authorization:"Bearer ".concat(B.token)}:void 0}),Y=function(e){M.defaults.headers.common.Authorization=e?"Bearer ".concat(e):null},J=Object(N.a)("auth/LOGIN_USER"),K=Object(N.a)("auth/LOGIN_USER_SUCCESS"),W=Object(N.a)("auth/LOGIN_USER_FAILED"),H=Object(N.a)("auth/GET_TOKEN"),Q=Object(N.a)("auth/GET_TOKEN_SUCCESS"),X=Object(N.a)("auth/GET_TOKEN_FAILED"),Z=function(){return function(){var e=Object(V.a)(F.a.mark((function e(t,n){var a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(H()),a=n().authReducer.refreshToken){e.next=6;break}return t(X()),e.abrupt("return");case 6:return e.next=8,M.post("/auth/token",{refreshToken:a});case 8:(r=e.sent)&&r.data?(Y(r.data.token),t(Q(r.data))):t(X()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(X(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},ee=Object(N.b)({loading:!1},(h={},Object(L.a)(h,J.toString(),(function(e){e.loading=!0,e.error=void 0})),Object(L.a)(h,K.toString(),(function(e,t){e.loading=!1,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.user=t.payload.user})),Object(L.a)(h,W.toString(),(function(e,t){e.loading=!1,e.error=t.payload})),Object(L.a)(h,H.toString(),(function(e){e.loading=!0})),Object(L.a)(h,Q.toString(),(function(e,t){e.loading=!1,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.user=t.payload.user})),Object(L.a)(h,X.toString(),(function(e){e.loading=!1,e.token=void 0,e.refreshToken=void 0,e.user=void 0})),h)),te=Object(N.a)("place/GET"),ne=Object(N.a)("place/GET_SUCCESS"),ae=Object(N.a)("place/GET_FAILED"),re=Object(N.a)("place/SAVE"),oe=Object(N.a)("place/SAVE_SUCCESS"),ie=Object(N.a)("place/SAVE_FAILED"),ce=Object(N.a)("place/DELETE"),le=Object(N.a)("place/DELETE_SUCCESS"),ue=Object(N.a)("place/DELETE_FAILED"),de=function(e){return function(){var t=Object(V.a)(F.a.mark((function t(n,a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(te()),t.next=4,M.get("/places/".concat(e||""));case 4:(r=t.sent)&&r.data?n(ne(r.data)):n(ae()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(ae(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},se=function(e,t){return e&&(t=t.filter((function(t){return t.id!==e.id}))).unshift(e),t=t.sort((function(e,t){return l()(t.createdAt).diff(l()(e.createdAt))}))},me=Object(N.b)({list:[],loading:!1},(function(e){return e.addCase(te,(function(e){e.loading=!0,e.error=void 0})).addCase(ne,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(ae,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(re,(function(e){e.loading=!0,e.error=void 0})).addCase(oe,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(ie,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ce,(function(e){e.loading=!0,e.error=void 0})).addCase(le,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(ue,(function(e,t){e.loading=!1,e.error=t.payload}))})),fe=Object(N.a)("benefit/GET"),pe=Object(N.a)("benefit/GET_SUCCESS"),be=Object(N.a)("benefit/GET_FAILED"),he=Object(N.a)("benefit/SAVE"),Ee=Object(N.a)("benefit/SAVE_SUCCESS"),ve=Object(N.a)("benefit/SAVE_FAILED"),ge=Object(N.a)("benefit/DELETE"),je=Object(N.a)("benefit/DELETE_SUCCESS"),Oe=Object(N.a)("benefit/DELETE_FAILED"),xe=Object(N.b)({list:[],loading:!1},(function(e){return e.addCase(fe,(function(e){e.loading=!0,e.error=void 0})).addCase(pe,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(be,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(he,(function(e){e.loading=!0,e.error=void 0})).addCase(Ee,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(ve,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ge,(function(e){e.loading=!0,e.error=void 0})).addCase(je,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Oe,(function(e,t){e.loading=!1,e.error=t.payload}))})),ye=Object(N.a)("Institution/GET"),Se=Object(N.a)("Institution/GET_SUCCESS"),Ce=Object(N.a)("Institution/GET_FAILED"),ke=Object(N.a)("Institution/SAVE"),Ie=Object(N.a)("Institution/SAVE_SUCCESS"),we=Object(N.a)("Institution/SAVE_FAILED"),Te=Object(N.a)("Institution/DELETE"),Ae=Object(N.a)("Institution/DELETE_SUCCESS"),$e=Object(N.a)("Institution/DELETE_FAILED"),Le=function(e){return function(){var t=Object(V.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(ye()),t.next=4,M.get("/institutions/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Se(a.data)):n(Ce()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Ce(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ne=Object(N.b)({list:[],loading:!1},(function(e){return e.addCase(ye,(function(e){e.loading=!0,e.error=void 0})).addCase(Se,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(Ce,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ke,(function(e){e.loading=!0,e.error=void 0})).addCase(Ie,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(we,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Te,(function(e){e.loading=!0,e.error=void 0})).addCase(Ae,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase($e,(function(e,t){e.loading=!1,e.error=t.payload}))})),Re=Object(N.a)("placeStore/GET"),Fe=Object(N.a)("placeStore/GET_SUCCESS"),Ve=Object(N.a)("placeStore/GET_FAILED"),_e=Object(N.a)("placeStore/SAVE"),De=Object(N.a)("placeStore/SAVE_SUCCESS"),qe=Object(N.a)("placeStore/SAVE_FAILED"),Ge=Object(N.a)("placeStore/DELETE"),Ue=Object(N.a)("placeStore/DELETE_SUCCESS"),Pe=Object(N.a)("placeStore/DELETE_FAILED"),ze=function(e){return function(){var t=Object(V.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Re()),t.next=4,M.get("/place-stores/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Fe(a.data)):n(Ve()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Ve(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Be=Object(N.b)({list:[],loading:!1},(function(e){return e.addCase(Re,(function(e){e.loading=!0,e.error=void 0})).addCase(Fe,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(Ve,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(_e,(function(e){e.loading=!0,e.error=void 0})).addCase(De,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(qe,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Ge,(function(e){e.loading=!0,e.error=void 0})).addCase(Ue,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Pe,(function(e,t){e.loading=!1,e.error=t.payload}))})),Me=Object(N.a)("user/GET"),Ye=Object(N.a)("user/GET_SUCCESS"),Je=Object(N.a)("user/GET_FAILED"),Ke=Object(N.a)("user/SAVE"),We=Object(N.a)("user/SAVE_SUCCESS"),He=Object(N.a)("user/SAVE_FAILED"),Qe=Object(N.a)("user/DELETE"),Xe=Object(N.a)("user/DELETE_SUCCESS"),Ze=Object(N.a)("user/DELETE_FAILED"),et=Object(N.b)({list:[],loading:!1},(function(e){return e.addCase(Me,(function(e){e.loading=!0,e.error=void 0})).addCase(Ye,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(Je,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Ke,(function(e){e.loading=!0,e.error=void 0})).addCase(We,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(He,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Qe,(function(e){e.loading=!0,e.error=void 0})).addCase(Xe,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Ze,(function(e,t){e.loading=!1,e.error=t.payload}))})),tt=Object(I.c)({authReducer:ee,placeReducer:me,benefitReducer:xe,institutionReducer:Ne,placeStoreReducer:Be,userReducer:et}),nt={key:"root",storage:$.a},at=Object(T.a)(nt,tt),rt=n(106),ot=n(19),it=n(688),ct=n(351),lt=n(162),ut=n(698),dt=n(699),st=n(700),mt=n(701),ft=n(702),pt=n(703),bt=n(704),ht=n(705),Et=n(706),vt=n(707),gt=n(114),jt=n(697),Ot=n(36);function xt(){var e=Object(p.a)(["\n  /* Important !!!!!\n  It is not recommended to add more properties here.\n  If that is the case, it's better that you create your own\n  flex component for your specific case instead. */\n\n  display: flex;\n  align-items: ",";\n  justify-content: ",";\n  flex-direction: ",";\n  ","\n\n  /* For every element inside this component, but only the first nested */\n  > * {\n    /* If not the last one */\n    &:not(:last-child) {\n      ","\n    }\n  }\n"]);return xt=function(){return e},e}var yt=s.c.div(xt(),(function(e){return e.alignItems?e.alignItems:"initial"}),(function(e){return e.justifyContent?e.justifyContent:"initial"}),(function(e){return e.vertical?"column":"row"}),(function(e){return e.full?"width: 100%; height: 100%;":""}),(function(e){return e.gap?"".concat(e.vertical?"margin-bottom":"margin-right",": ").concat(!0===e.gap?e.theme.spacing.sm:e.theme.spacing[e.gap],";"):""}));function St(){var e=Object(p.a)(["\n  overflow: auto;\n"]);return St=function(){return e},e}function Ct(){var e=Object(p.a)(["\n  > * {\n    height: 100%;\n    .ant-layout-sider-children {\n      display: flex;\n      flex-direction: column;\n      max-height: 100%;\n\n      > * {\n        &:last-child {\n          margin-top: auto;\n        }\n      }\n    }\n  }\n"]);return Ct=function(){return e},e}function kt(){var e=Object(p.a)(["\n  z-index: 2;\n  color: #fff;\n  font-size: 16px;\n  position: absolute;\n  top: ",";\n  right: -16px;\n  padding: "," ",";\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: ",";\n  cursor: pointer;\n"]);return kt=function(){return e},e}function It(){var e=Object(p.a)(["\n  position: absolute;\n  padding: ",";\n  max-width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  opacity: ",";\n  transition: opacity 30ms;\n"]);return It=function(){return e},e}function wt(){var e=Object(p.a)(["\n  max-width: 100%;\n  position: relative;\n  height: ",";\n  transition: height 200ms ease-out;\n"]);return wt=function(){return e},e}s.c.div(wt(),(function(e){return e.collapsed?"80px":"229px"})),s.c.img(It(),(function(e){return e.theme.spacing.default}),(function(e){return e.show?"1":"0"}));var Tt=s.c.span(kt(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors["@primary-color"]}),(function(e){return e.theme.colors["@box-shadow-base"]})),At=s.c.div(Ct()),$t=s.c.div(St()),Lt=it.a.Sider,Nt=gt.a.SubMenu,Rt=[{path:"/beneficios",icon:function(){return r.a.createElement(ut.a,null)},name:"Beneficios"},{path:"/usuarios",icon:function(){return r.a.createElement(dt.a,null)},name:"Usu\xe1rios"},{path:"/lojas",icon:function(){return r.a.createElement(st.a,null)},name:"Lojas"},{path:"/estabelecimentos",icon:function(){return r.a.createElement(mt.a,null)},name:"Estabelecimentos"},{path:"/instituicoes",icon:function(){return r.a.createElement(ft.a,null)},name:"Institui\xe7\xf5es"},{path:"/familias",icon:function(){return r.a.createElement(pt.a,null)},name:"Fam\xedlias",disabled:!0},{path:"/relatorios",icon:function(){return r.a.createElement(bt.a,null)},name:"Relat\xf3rios",disabled:!0}],Ft=function(){var e=Object(rt.g)(),t=Object(s.d)(),n=Object(a.useState)(Boolean(localStorage.getItem(q))||!1),o=Object(lt.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){return localStorage.setItem(q,i.toString())}),[i]),r.a.createElement(At,null,r.a.createElement(Lt,{collapsible:!0,theme:"light",trigger:null,collapsed:i,width:300},r.a.createElement("div",null,r.a.createElement(Tt,{onClick:function(){return c(!i)}},i?r.a.createElement(ht.a,null):r.a.createElement(Et.a,null))),r.a.createElement($t,null,r.a.createElement(gt.a,{theme:"light",mode:"inline",defaultSelectedKeys:[e?e.pathname:"/"]},Rt.map((function(e){return function e(t,n){var a,o="".concat(n).concat(t.path),i=t.name.length>30?"".concat(t.name.slice(0,27),"..."):t.name,c=function(){return r.a.createElement(r.a.Fragment,null,t.icon&&t.icon(),r.a.createElement("span",null,i))},l=null===(a=t.children)||void 0===a?void 0:a.map((function(t){return e(t,o)}));return t.children?t.group?r.a.createElement(gt.a.ItemGroup,{key:t.path,title:t.name,disabled:t.disabled},l):r.a.createElement(Nt,{key:o,title:r.a.createElement("span",null,c())},l):r.a.createElement(gt.a.Item,{key:o,disabled:t.disabled},r.a.createElement(ot.b,{to:o},c()))}(e,"")})))),r.a.createElement(yt,{vertical:i,alignItems:"center",gap:"sm",justifyContent:"space-between"},r.a.createElement("div",null),r.a.createElement(jt.a,{content:"Sair"},r.a.createElement(ot.b,{to:"/logout"},r.a.createElement(Ot.a,{type:"ghost",style:{marginRight:i?"auto":t.spacing.sm,marginLeft:"auto",marginBottom:t.spacing.sm}},r.a.createElement(vt.a,null)))))))};function Vt(){var e=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Vt=function(){return e},e}var _t=s.c.div(Vt());function Dt(){var e=Object(p.a)(["\n  height: 100%;\n"]);return Dt=function(){return e},e}var qt=it.a.Content,Gt=Object(s.c)(it.a)(Dt()),Ut=function(e){return r.a.createElement(Gt,null,r.a.createElement(Ft,null),r.a.createElement(it.a,null,r.a.createElement(qt,null,e.loading?r.a.createElement(_t,null,r.a.createElement(ct.a,null)):e.children)))},Pt=n(691),zt=n(694),Bt=n(695),Mt=n(693);function Yt(){var e=Object(p.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return Yt=function(){return e},e}function Jt(){var e=Object(p.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return Jt=function(){return e},e}var Kt=s.c.div(Jt()),Wt=s.c.div(Yt()),Ht=function(e){var t=Object(a.useState)(""),n=Object(lt.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),l=Object(lt.a)(c,2),u=l[0],d=l[1],s=Object(m.b)(),f=Object(m.c)((function(e){return e.authReducer.loading})),p=Object(m.c)((function(e){return e.authReducer.error}));return r.a.createElement(Kt,null,r.a.createElement(Pt.a,null,r.a.createElement(Wt,null,r.a.createElement(zt.a,{style:{width:"300px"}},r.a.createElement(zt.a.Item,null,r.a.createElement(Bt.a,{size:"large",value:o,placeholder:"Email",onChange:function(e){return i(e.target.value)}})),r.a.createElement(zt.a.Item,null,r.a.createElement(Bt.a.Password,{size:"large",value:u,placeholder:"Password",onChange:function(e){return d(e.target.value)}})),p&&r.a.createElement(zt.a.Item,{style:{textAlign:"center"}},r.a.createElement(Mt.a.Text,{type:"danger"},p.message||"Ocorreu um erro inesperado")),r.a.createElement(Ot.a,{size:"large",loading:f,type:"primary",onClick:function(){return s(function(e,t){return function(){var n=Object(V.a)(F.a.mark((function n(a){var r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(J()),n.next=4,M.post("/auth/login",{email:e,password:t});case 4:(r=n.sent)&&r.data?(Y(r.data.token),a(K(r.data))):a(W()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a(W(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,u))},style:{width:"100%"}},"Entrar")))))};function Qt(){var e=Object(p.a)(["\n  padding: ",";\n"]);return Qt=function(){return e},e}var Xt=s.c.div(Qt(),(function(e){return e.theme.spacing.md})),Zt=function(e){var t=Object(m.c)((function(e){return e.authReducer.user}));return r.a.createElement(Xt,null,r.a.createElement(Pt.a,null,r.a.createElement(Mt.a.Text,null,"Bem vindo ".concat(t.name))))},en=n(708),tn=n(689),nn=n(692);function an(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return rn=function(){return e},e}function on(){var e=Object(p.a)(["\n  padding: ",";\n"]);return on=function(){return e},e}var cn=s.c.div(on(),(function(e){return e.theme.spacing.md})),ln=(s.c.div(rn()),s.c.div(an(),(function(e){return e.theme.spacing.sm}))),un=function(e){var t=Object(m.c)((function(e){return e.placeReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){n(de())}),[n]),r.a.createElement(cn,null,r.a.createElement(Pt.a,{title:r.a.createElement(Mt.a.Title,null,"Estabelecimentos"),extra:r.a.createElement(ot.b,{to:"/estabelecimentos/criar"},r.a.createElement(Ot.a,{type:"primary"},"Criar"))},r.a.createElement(tn.a,{dataSource:t},r.a.createElement(tn.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(tn.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(tn.a.Column,{render:function(e){return r.a.createElement(ln,null,r.a.createElement(ot.b,{to:"/estabelecimentos/".concat(e.id,"/editar")},r.a.createElement(Ot.a,null,"Editar")),r.a.createElement(Ot.a,{danger:!0,onClick:function(){return nn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(en.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(V.a)(F.a.mark((function e(n,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(te()),e.next=4,M.delete("/places/".concat(t||""));case 4:n(le({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(ue(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},dn=n(696),sn=n(75),mn=n(259),fn=n(581),pn={default:"${path} est\xe1 inv\xe1lido",required:"${path} \xe9 um campo obrigat\xf3rio",oneOf:"${path} precisa ser igual a algum dos seguintes valores: ${values}",notOneOf:"${path} n\xe3o deve ser igual a algum dos seguintes valores: ${values}",notType:function(e){var t=e.path,n=e.type,a=e.value,r=e.originalValue,o=null!=r&&r!==a,i="".concat(t," deve ser do tipo `").concat(n,"`, ")+"mas o resultado final \xe9: `".concat(fn(a,!0),"`")+(o?" (cast a partir do valor `".concat(fn(r,!0),"`)."):".");return null===a&&(i+='\n Se "null" deve ser considerado como um valor vazio, garanta que o schema tenha `.nullable()`'),i}};mn.setLocale({mixed:pn,string:{length:"${path} precisa ter exatamente ${length} caracteres",min:"${path} precisa ter no m\xednimo ${min} caracteres",max:"${path} precisa ter no m\xe1ximo ${max} caracteres",matches:'${path} precisa dar match com: "${regex}"',email:"${path} precisa ser um e-mail v\xe1lido",url:"${path} precisa ser uma URL v\xe1lida",trim:"${path} n\xe3o pode ter espa\xe7os no fim ou no in\xedcio",lowercase:"${path} deve estar em min\xfasculo",uppercase:"${path} deve estar em mai\xfasculo"},number:{min:"${path} precisa ser maior ou igual a ${min}",max:"${path} precisa ser menor ou igual a ${max}",lessThan:"${path} precisa ser menor que ${less}",moreThan:"${path} precisa ser maior que ${more}",notEqual:"${path} n\xe3o deve ser igual a ${notEqual}",positive:"${path} precisa ser um n\xfamero positivo",negative:"${path} precisa ser um n\xfamero negativo",integer:"${path} precisa ser um n\xfamero inteiro"},date:{min:"${path} precisa vir depois de ${min}",max:"${path} previsa vir antes de ${max}"},boolean:{},object:{noUnknown:"${path} n\xe3o pode ter chaves n\xe3o espec\xedficadas no seu object shape"},array:{min:"${path} precisa ter no m\xednimo ${min} itens",max:"${path} precisa ter ${max} ou menos itens"}});var bn=mn,hn=bn.object().shape({title:bn.string().label("Nome").required()}),En=function(e){var t=Object(rt.f)(),n="criar"===e.match.params.id,a=Object(m.b)(),o=Object(m.c)((function(t){return t.placeReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),i=Object(m.c)((function(e){return e.placeReducer.loading})),c=Object(sn.a)({initialValues:o||{title:""},validationSchema:hn,onSubmit:function(e,n){var r,o,i,c=n.setStatus;c(),a((r=e,o=function(){return t.push("/estabelecimentos")},i=function(){return c("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(V.a)(F.a.mark((function e(t,n){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(ce()),a=n().authReducer.user,!r.id){e.next=9;break}return e.next=6,M.put("/places/".concat(r.id),Object(v.a)({},r,{cityId:a.cityId}));case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,M.post("/places",Object(v.a)({},r,{cityId:a.cityId}));case 11:c=e.sent;case 12:c&&c.data?(t(oe(c.data)),o&&o()):(t(ie()),i&&i()),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t(ie(e.t0)),i&&i(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()))}}),l=c.handleSubmit,u=c.handleChange,d=c.values,s=c.getFieldMeta,f=c.submitForm,p=c.status,b=c.errors,h=c.touched,E=s("title");return r.a.createElement(nn.a,{title:n?"Criar":"Editar",visible:!0,onCancel:function(){return t.push("/estabelecimentos")},onOk:f,confirmLoading:i,okType:b&&Object.keys(b).length>0&&h?"danger":"primary"},p&&r.a.createElement(dn.a,{message:"Erro no formul\xe1rio",description:p,type:"error"}),r.a.createElement("form",{onSubmit:l},r.a.createElement(zt.a,{layout:"vertical"},r.a.createElement(zt.a.Item,{label:"Nome",validateStatus:E.error&&E.touched?"error":"",help:E.error&&E.touched?E.error:void 0},r.a.createElement(Bt.a,{id:"title",name:"title",onChange:u,value:d.title,onPressEnter:f})))))},vn=n(373),gn=n.n(vn),jn=function(){var e=Object(m.b)(),t=Object(rt.f)();return Object(a.useEffect)((function(){e(X()),t.push("/")}),[e,t]),r.a.createElement("div",null,"Deslogando...")};function On(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return On=function(){return e},e}function xn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return xn=function(){return e},e}function yn(){var e=Object(p.a)(["\n  padding: ",";\n"]);return yn=function(){return e},e}var Sn=s.c.div(yn(),(function(e){return e.theme.spacing.md})),Cn=(s.c.div(xn()),s.c.div(On(),(function(e){return e.theme.spacing.sm}))),kn=function(e){var t=Object(m.c)((function(e){return e.benefitReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){var e;n(function(){var t=Object(V.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(fe()),t.next=4,M.get("/benefits/".concat(e||""));case 4:(a=t.sent)&&a.data?n(pe(a.data)):n(be()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(be(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[n]),r.a.createElement(Sn,null,r.a.createElement(Pt.a,{title:r.a.createElement(Mt.a.Title,null,"Benef\xedcios"),extra:r.a.createElement(ot.b,{to:"/beneficios/criar"},r.a.createElement(Ot.a,{type:"primary"},"Criar"))},r.a.createElement(tn.a,{dataSource:t},r.a.createElement(tn.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(tn.a.Column,{title:"Grupo",dataIndex:"groupName",render:function(e){var t;return(null===(t=G[e])||void 0===t?void 0:t.title)||e}}),r.a.createElement(tn.a.Column,{title:"M\xeas",dataIndex:"month"}),r.a.createElement(tn.a.Column,{title:"Ano",dataIndex:"year"}),r.a.createElement(tn.a.Column,{title:"Valor",dataIndex:"value",render:function(e){return"R$ ".concat(e)}}),r.a.createElement(tn.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(tn.a.Column,{render:function(e){return r.a.createElement(Cn,null,r.a.createElement(ot.b,{to:"/beneficios/".concat(e.id,"/editar")},r.a.createElement(Ot.a,null,"Editar")),r.a.createElement(Ot.a,{danger:!0,onClick:function(){return nn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(en.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(V.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(fe()),e.next=4,M.delete("/Benefits/".concat(t||""));case 4:n(je({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Oe(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},In=n(161),wn=n(142),Tn=n(67),An=n(690),$n=n(261),Ln=In.a.Option,Nn=bn.object().shape({institutionId:bn.number().label("Institui\xe7\xe3o").required(),groupName:bn.string().label("Fam\xedlia").required(),title:bn.string().label("Nome").required(),month:bn.number().label("M\xeas").required(),year:bn.number().label("Ano").required(),value:bn.string().label("Valor").required()}),Rn=function(e){var t,n,o=Object(rt.f)(),i="criar"===e.match.params.id,c=Object(m.b)();Object(a.useEffect)((function(){c(Le())}),[c]);var u=Object(m.c)((function(t){return t.benefitReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),d=Object(m.c)((function(e){return e.benefitReducer.loading})),s=Object(m.c)((function(e){return e.institutionReducer.loading})),f=Object(m.c)((function(e){return e.institutionReducer.list})),p=Object(sn.a)({initialValues:u||{institutionId:!s&&f&&f.length>0?f[0].id:-1,groupName:"extreme-poverty",title:"",month:void 0,year:void 0,value:void 0},validationSchema:Nn,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),c((n=e,a=function(){return o.push("/beneficios")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(V.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(ge()),!n.id){e.next=8;break}return e.next=5,M.put("/Benefits/".concat(n.id),Object(v.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/Benefits",Object(v.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(Ee(o.data)),a&&a()):(t(ve()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(ve(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),b=p.handleSubmit,h=p.handleChange,E=p.values,g=p.getFieldMeta,j=p.submitForm,O=p.status,x=p.errors,y=p.touched,S=p.setFieldValue,C=p.setFieldTouched,k=g("title"),I=g("groupName"),w=g("month"),T=g("year"),A=g("value"),$=g("institutionId");return r.a.createElement(nn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/beneficios")},onOk:j,confirmLoading:d,okType:x&&Object.keys(x).length>0&&y?"danger":"primary"},O&&r.a.createElement(dn.a,{message:"Erro no formul\xe1rio",description:O,type:"error"}),r.a.createElement("form",{onSubmit:b},r.a.createElement(zt.a,{layout:"vertical"},r.a.createElement(zt.a.Item,{label:"Nome",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Bt.a,{id:"title",name:"title",onChange:h,value:E.title,onPressEnter:j})),r.a.createElement(zt.a.Item,{label:"Institui\xe7\xe3o",validateStatus:$.error&&$.touched?"error":"",help:$.error&&$.touched?$.error:void 0},r.a.createElement(In.a,{disabled:s,defaultValue:null===(t=E.institutionId)||void 0===t?void 0:t.toString(),onSelect:function(e){return S("institutionId",Number(e))},value:(null===(n=E.institutionId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:s?r.a.createElement(ct.a,{size:"small"}):null,onChange:function(e){S("institutionId",Number(e))},onBlur:function(){C("institutionId",!0)}},!s&&f&&f.length>0&&f.map((function(e){var t;return r.a.createElement(Ln,{key:e.id,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(zt.a.Item,{label:"Grupo",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(In.a,{defaultValue:E.groupName,onSelect:function(e){return S("groupName",e)},value:E.groupName||void 0,onChange:function(e){S("groupName",e)},onBlur:function(){C("groupName",!0)}},Object.keys(G).map((function(e){return r.a.createElement(Ln,{key:e,value:e},G[e].title)})))),r.a.createElement(wn.a,{gutter:[16,16]},r.a.createElement(Tn.a,{span:12},r.a.createElement(zt.a.Item,{label:"M\xeas",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(An.a.MonthPicker,{format:"MMMM",locale:$n.a,style:{width:"100%"},defaultValue:E.month?l()(E.month,"MM"):void 0,onChange:function(e){return S("month",Number(null===e||void 0===e?void 0:e.format("MM")))}}))),r.a.createElement(Tn.a,{span:12},r.a.createElement(zt.a.Item,{label:"Ano",validateStatus:T.error&&T.touched?"error":"",help:T.error&&T.touched?T.error:void 0},r.a.createElement(An.a.YearPicker,{format:"YYYY",locale:$n.a,style:{width:"100%"},defaultValue:E.year?l()(E.year,"YYYY"):void 0,onChange:function(e){return S("year",Number(null===e||void 0===e?void 0:e.format("YYYY")))}})))),r.a.createElement(zt.a.Item,{label:"Valor",validateStatus:A.error&&A.touched?"error":"",help:A.error&&A.touched?A.error:void 0},r.a.createElement(Bt.a,{id:"value",name:"value",prefix:"R$",onChange:h,value:E.value})))))};function Fn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return Fn=function(){return e},e}function Vn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return Vn=function(){return e},e}function _n(){var e=Object(p.a)(["\n  padding: ",";\n"]);return _n=function(){return e},e}var Dn=s.c.div(_n(),(function(e){return e.theme.spacing.md})),qn=(s.c.div(Vn()),s.c.div(Fn(),(function(e){return e.theme.spacing.sm}))),Gn=function(e){return e?e=(e=(e=(e=e.replace(/\D/g,"").substr(0,11)).replace(/^(\d{3})(\d)/,"$1.$2")).replace(/^(\d{3}.\d{3})(\d)/,"$1.$2")).replace(/^(\d{3}.\d{3}.\d{3})(\d{1,2})/,"$1-$2"):""},Un=function(e){return e?e=(e=(e=(e=(e=e.replace(/\D/g,"").substr(0,14)).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2}.\d{3})(\d)/,"$1.$2")).replace(/^(\d{2}.\d{3}.\d{3})(\d)/,"$1/$2")).replace(/^(\d{2}.\d{3}.\d{3}\/\d{4})(\d{1,2})/,"$1-$2"):""},Pn=function(){var e=Object(m.c)((function(e){return e.placeStoreReducer.list})),t=Object(m.c)((function(e){return e.placeReducer.loading})),n=Object(m.c)((function(e){return e.placeReducer.list})),o=Object(m.b)();return Object(a.useEffect)((function(){(!n||n.length<=0)&&o(de()),o(ze())}),[o,n]),r.a.createElement(Dn,null,r.a.createElement(Pt.a,{title:r.a.createElement(Mt.a.Title,null,"Lojas"),extra:r.a.createElement(ot.b,{to:"/lojas/criar"},r.a.createElement(Ot.a,{type:"primary"},"Criar"))},r.a.createElement(tn.a,{dataSource:e},r.a.createElement(tn.a.Column,{title:"Estabelecimento",dataIndex:"placeId",render:function(e){var a;return t||!n||n.length<=0?r.a.createElement(ct.a,{size:"small"}):null===(a=n.find((function(t){return t.id===e})))||void 0===a?void 0:a.title}}),r.a.createElement(tn.a.Column,{title:"Loja",dataIndex:"title"}),r.a.createElement(tn.a.Column,{title:"CNPJ",dataIndex:"cnpj",render:function(e){return Un(e)}}),r.a.createElement(tn.a.Column,{title:"Endere\xe7o",dataIndex:"address"}),r.a.createElement(tn.a.Column,{render:function(e){return r.a.createElement(qn,null,r.a.createElement(ot.b,{to:"/lojas/".concat(e.id,"/editar")},r.a.createElement(Ot.a,null,"Editar")),r.a.createElement(Ot.a,{danger:!0,onClick:function(){return nn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(en.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;o((t=e.id,function(){var e=Object(V.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Re()),e.next=4,M.delete("/place-stores/".concat(t||""));case 4:n(Ue({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Pe(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},zn=n(377),Bn=function(e){var t=e.setValue,n=e.formatter,o=e.parser,i=e.onChange,c=Object(zn.a)(e,["setValue","formatter","parser","onChange"]),l=Object(a.useCallback)((function(e){if(t){var a=n?n(e.target.value):e.target.value;t(o?o(a):a)}else i&&i(e)}),[n,o,i,t]);return r.a.createElement(Bt.a,Object.assign({},c,{onChange:l}))},Mn=In.a.Option,Yn=bn.object().shape({title:bn.string().label("Loja").required(),placeId:bn.number().label("Estabelecimento").required(),cnpj:bn.string().label("CNPJ").required(),address:bn.string().label("Endere\xe7o").required()}),Jn=function(e){var t,n,o=Object(rt.f)(),i="criar"===e.match.params.id,c=Object(m.c)((function(t){return t.placeStoreReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),l=Object(m.c)((function(e){return e.placeStoreReducer.loading})),u=Object(m.c)((function(e){return e.placeReducer.loading})),d=Object(m.c)((function(e){return e.placeReducer.list})),s=Object(m.b)();Object(a.useEffect)((function(){(!d||d.length<=0)&&s(de())}),[s,d]);var f=Object(sn.a)({initialValues:c||{placeId:!u&&d&&d.length>0?d[0].id:-1,title:"",cnpj:"",address:""},validationSchema:Yn,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),s((n=e,a=function(){return o.push("/lojas")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(V.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Ge()),!n.id){e.next=8;break}return e.next=5,M.put("/place-stores/".concat(n.id),Object(v.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/place-stores",Object(v.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(De(o.data)),a&&a()):(t(qe()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(qe(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),p=f.handleSubmit,b=f.handleChange,h=f.values,E=f.getFieldMeta,g=f.submitForm,j=f.status,O=f.errors,x=f.touched,y=f.setFieldValue,S=f.setFieldTouched,C=E("title"),k=E("cnpj"),I=E("address"),w=E("placeId");return r.a.createElement(nn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/lojas")},onOk:g,confirmLoading:l,okType:O&&Object.keys(O).length>0&&x?"danger":"primary"},j&&r.a.createElement(dn.a,{message:"Erro no formul\xe1rio",description:j,type:"error"}),r.a.createElement("form",{onSubmit:p},r.a.createElement(zt.a,{layout:"vertical"},r.a.createElement(zt.a.Item,{label:"Loja",validateStatus:C.error&&C.touched?"error":"",help:C.error&&C.touched?C.error:void 0},r.a.createElement(Bt.a,{id:"title",name:"title",onChange:b,value:h.title,onPressEnter:g})),r.a.createElement(zt.a.Item,{label:"Estabelecimento",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(In.a,{disabled:u,defaultValue:null===(t=h.placeId)||void 0===t?void 0:t.toString(),onSelect:function(e){return y("placeId",Number(e))},value:(null===(n=h.placeId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:u?r.a.createElement(ct.a,{size:"small"}):null,onChange:function(e){y("placeId",Number(e))},onBlur:function(){S("placeId",!0)}},!u&&d&&d.length>0&&d.map((function(e){var t;return r.a.createElement(Mn,{key:e.title,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(zt.a.Item,{label:"CNPJ",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Bn,{id:"cnpj",name:"cnpj",onPressEnter:g,value:Un(h.cnpj),setValue:function(e){return y("cnpj",e)},formatter:function(e){return Un(null===e||void 0===e?void 0:e.toString())},parser:function(e){return e?e.replace(/[./-]/g,"").trim():""}})),r.a.createElement(zt.a.Item,{label:"Endere\xe7o",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(Bt.a,{id:"address",name:"address",onChange:b,value:h.address,onPressEnter:g})))))},Kn=n(376);function Wn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return Wn=function(){return e},e}function Hn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return Hn=function(){return e},e}function Qn(){var e=Object(p.a)(["\n  padding: ",";\n"]);return Qn=function(){return e},e}var Xn=s.c.div(Qn(),(function(e){return e.theme.spacing.md})),Zn=(s.c.div(Hn()),s.c.div(Wn(),(function(e){return e.theme.spacing.sm}))),ea=function(){var e=Object(m.c)((function(e){return e.userReducer.list})),t=Object(m.c)((function(e){return e.placeStoreReducer.loading})),n=Object(m.c)((function(e){return e.placeStoreReducer.list})),o=Object(m.b)();return Object(a.useEffect)((function(){var e;(!n||n.length<=0)&&o(ze()),o(function(){var t=Object(V.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Me()),t.next=4,M.get("/users/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Ye(a.data)):n(Je()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Je(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[o,n]),r.a.createElement(Xn,null,r.a.createElement(Pt.a,{title:r.a.createElement(Mt.a.Title,null,"Usu\xe1rios"),extra:r.a.createElement(ot.b,{to:"/usuarios/criar"},r.a.createElement(Ot.a,{type:"primary"},"Criar"))},r.a.createElement(tn.a,{dataSource:e},r.a.createElement(tn.a.Column,{title:"Nome",dataIndex:"name"}),r.a.createElement(tn.a.Column,{title:"Email",dataIndex:"email"}),r.a.createElement(tn.a.Column,{title:"Ativo",dataIndex:"active",render:function(e){return r.a.createElement(Kn.a,null,e?"Ativo":"Inativo")}}),r.a.createElement(tn.a.Column,{title:"CPF",dataIndex:"cpf",render:function(e){return Gn(e)}}),r.a.createElement(tn.a.Column,{title:"Cargo",dataIndex:"role",render:function(e){var t;return(null===(t=U[e])||void 0===t?void 0:t.title)||e}}),r.a.createElement(tn.a.Column,{title:"Loja",dataIndex:"placeStoreId",render:function(e){var a;return t||!n||n.length<=0?r.a.createElement(ct.a,{size:"small"}):null===(a=n.find((function(t){return t.id===e})))||void 0===a?void 0:a.title}}),r.a.createElement(tn.a.Column,{render:function(e){return r.a.createElement(Zn,null,r.a.createElement(ot.b,{to:"/usuarios/".concat(e.id,"/editar")},r.a.createElement(Ot.a,null,"Editar")),r.a.createElement(Ot.a,{danger:!0,onClick:function(){return nn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(en.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;o((t=e.id,function(){var e=Object(V.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Me()),e.next=4,M.delete("/users/".concat(t||""));case 4:n(Xe({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Ze(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},ta=n(164),na=In.a.Option,aa=bn.object().shape({placeStoreId:bn.number().label("Loja").required(),name:bn.string().label("Nome").required(),password:bn.string().label("Senha").required(),cpf:bn.string().label("CPF").required(),email:bn.string().label("Email").required(),role:bn.string().label("Cargo").required()}),ra=function(e){var t,n,o=Object(rt.f)(),i="criar"===e.match.params.id,c=Object(m.c)((function(t){return t.userReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),l=Object(m.c)((function(e){return e.userReducer.loading})),u=Object(m.c)((function(e){return e.placeStoreReducer.loading})),d=Object(m.c)((function(e){return e.placeStoreReducer.list})),s=Object(m.b)();Object(a.useEffect)((function(){(!d||d.length<=0)&&s(ze())}),[s,d]);var f=Object(sn.a)({initialValues:c||{placeStoreId:!u&&d&&d.length>0?d[0].id:-1,name:"",password:"",cpf:"",email:"",role:"admin",active:!1},validationSchema:aa,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),s((n=e,a=function(){return o.push("/usuarios")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(V.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Qe()),!n.id){e.next=8;break}return e.next=5,M.put("/users/".concat(n.id),Object(v.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/users",Object(v.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(We(o.data)),a&&a()):(t(He()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(He(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),p=f.handleSubmit,b=f.handleChange,h=f.values,E=f.getFieldMeta,g=f.submitForm,j=f.status,O=f.errors,x=f.touched,y=f.setFieldValue,S=f.setFieldTouched,C=f.getFieldProps,k=E("name"),I=E("password"),w=E("cpf"),T=E("email"),A=E("placeStoreId"),$=E("role"),L=E("active"),N=C("active");return r.a.createElement(nn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/usuarios")},onOk:g,confirmLoading:l,okType:O&&Object.keys(O).length>0&&x?"danger":"primary"},j&&r.a.createElement(dn.a,{message:"Erro no formul\xe1rio",description:j,type:"error"}),r.a.createElement("form",{onSubmit:p},r.a.createElement(zt.a,{layout:"vertical"},r.a.createElement(zt.a.Item,{label:"Nome",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Bt.a,{id:"name",name:"name",onChange:b,value:h.name,onPressEnter:g})),i&&r.a.createElement(zt.a.Item,{label:"Senha",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(Bt.a,{id:"password",name:"password",onChange:b,value:h.password,onPressEnter:g})),r.a.createElement(zt.a.Item,{label:"CPF",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(Bn,{id:"cpf",name:"cpf",onPressEnter:g,value:Gn(h.cpf),setValue:function(e){return y("cpf",e)},formatter:function(e){return Gn(null===e||void 0===e?void 0:e.toString())},parser:function(e){return e?e.replace(/[./-]/g,"").trim():""}})),r.a.createElement(zt.a.Item,{label:"Email",validateStatus:T.error&&T.touched?"error":"",help:T.error&&T.touched?T.error:void 0},r.a.createElement(Bt.a,{id:"email",name:"email",onChange:b,value:h.email,onPressEnter:g})),r.a.createElement(zt.a.Item,{label:"Loja",validateStatus:A.error&&A.touched?"error":"",help:A.error&&A.touched?A.error:void 0},r.a.createElement(In.a,{disabled:u,defaultValue:null===(t=h.placeStoreId)||void 0===t?void 0:t.toString(),onSelect:function(e){return y("placeStoreId",Number(e))},value:(null===(n=h.placeStoreId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:u?r.a.createElement(ct.a,{size:"small"}):null,onChange:function(e){y("placeStoreId",Number(e))},onBlur:function(){S("placeStoreId",!0)}},!u&&d&&d.length>0&&d.map((function(e){var t;return r.a.createElement(na,{key:e.id,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(zt.a.Item,{label:"Cargo",validateStatus:$.error&&$.touched?"error":"",help:$.error&&$.touched?$.error:void 0},r.a.createElement(In.a,{defaultValue:h.role,onSelect:function(e){return y("role",e)},value:h.role||void 0,onChange:function(e){y("role",e)},onBlur:function(){S("role",!0)}},Object.keys(U).map((function(e){return r.a.createElement(na,{key:e,value:e},U[e].title)})))),r.a.createElement(zt.a.Item,{validateStatus:L.error&&L.touched?"error":"",help:L.error&&L.touched?L.error:void 0},r.a.createElement(ta.a,Object.assign({checked:h.active},N),"Ativo")))))},oa=bn.object().shape({title:bn.string().label("Nome").required()}),ia=function(e){var t=Object(rt.f)(),n="criar"===e.match.params.id,a=Object(m.b)(),o=Object(m.c)((function(t){return t.institutionReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),i=Object(m.c)((function(e){return e.institutionReducer.loading})),c=Object(sn.a)({initialValues:o||{title:""},validationSchema:oa,onSubmit:function(e,n){var r,o,i,c=n.setStatus;c(),a((r=e,o=function(){return t.push("/instituicoes")},i=function(){return c("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(V.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Te()),!r.id){e.next=8;break}return e.next=5,M.put("/institutions/".concat(r.id),Object(v.a)({},r));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/institutions",Object(v.a)({},r));case 10:n=e.sent;case 11:n&&n.data?(t(Ie(n.data)),o&&o()):(t(we()),i&&i()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(we(e.t0)),i&&i(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),l=c.handleSubmit,u=c.handleChange,d=c.values,s=c.getFieldMeta,f=c.submitForm,p=c.status,b=c.errors,h=c.touched,E=s("title");return r.a.createElement(nn.a,{title:n?"Criar":"Editar",visible:!0,onCancel:function(){return t.push("/instituicoes")},onOk:f,confirmLoading:i,okType:b&&Object.keys(b).length>0&&h?"danger":"primary"},p&&r.a.createElement(dn.a,{message:"Erro no formul\xe1rio",description:p,type:"error"}),r.a.createElement("form",{onSubmit:l},r.a.createElement(zt.a,{layout:"vertical"},r.a.createElement(zt.a.Item,{label:"Nome",validateStatus:E.error&&E.touched?"error":"",help:E.error&&E.touched?E.error:void 0},r.a.createElement(Bt.a,{id:"title",name:"title",onChange:u,value:d.title,onPressEnter:f})))))};function ca(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return ca=function(){return e},e}function la(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return la=function(){return e},e}function ua(){var e=Object(p.a)(["\n  padding: ",";\n"]);return ua=function(){return e},e}var da=s.c.div(ua(),(function(e){return e.theme.spacing.md})),sa=(s.c.div(la()),s.c.div(ca(),(function(e){return e.theme.spacing.sm}))),ma=function(e){var t=Object(m.c)((function(e){return e.institutionReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){n(Le())}),[n]),r.a.createElement(da,null,r.a.createElement(Pt.a,{title:r.a.createElement(Mt.a.Title,null,"Institui\xe7\xf5es"),extra:r.a.createElement(ot.b,{to:"/instituicoes/criar"},r.a.createElement(Ot.a,{type:"primary"},"Criar"))},r.a.createElement(tn.a,{dataSource:t},r.a.createElement(tn.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(tn.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(tn.a.Column,{render:function(e){return r.a.createElement(sa,null,r.a.createElement(ot.b,{to:"/instituicoes/".concat(e.id,"/editar")},r.a.createElement(Ot.a,null,"Editar")),r.a.createElement(Ot.a,{danger:!0,onClick:function(){return nn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(en.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(V.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ye()),e.next=4,M.delete("/institutions/".concat(t||""));case 4:n(Ae({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n($e(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},fa=function(e){var t=function(){var e=Object(m.c)((function(e){return e.authReducer.token})),t=Object(rt.g)(),n=Object(m.b)();return Object(a.useEffect)((function(){if(e){var a=gn.a.decode(e);a&&a.exp<Date.now()/1e3&&t.pathname&&n(Z())}else n(Z())}),[n,e,t.pathname]),Object(m.c)((function(e){return e.authReducer.loading}))}();return r.a.createElement(Ut,{loading:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{path:"/logout",component:jn}),r.a.createElement(rt.a,{path:"/estabelecimentos",component:un}),r.a.createElement(rt.a,{path:"/estabelecimentos/:id",component:En}),r.a.createElement(rt.a,{path:"/beneficios",component:kn}),r.a.createElement(rt.a,{path:"/beneficios/:id",component:Rn}),r.a.createElement(rt.a,{path:"/lojas",component:Pn}),r.a.createElement(rt.a,{path:"/lojas/:id",component:Jn}),r.a.createElement(rt.a,{path:"/usuarios",component:ea}),r.a.createElement(rt.a,{path:"/usuarios/:id",component:ra}),r.a.createElement(rt.a,{path:"/instituicoes",component:ma}),r.a.createElement(rt.a,{path:"/instituicoes/:id",component:ia}),r.a.createElement(rt.a,{path:"/",component:Zt,exact:!0})))},pa=function(e){return r.a.createElement(rt.c,null,r.a.createElement(rt.a,{path:"*"},r.a.createElement(Ht,null)))},ba=function(e){var t=Object(m.c)((function(e){return e.authReducer.user}));return r.a.createElement(ot.a,null,t&&"admin"===t.role?r.a.createElement(fa,e):r.a.createElement(pa,e))},ha=(n(686),function(){Object(a.useEffect)((function(){l.a.updateLocale("pt-br",d.a)}),[]);var e=function(){var e=Object(I.e)(at,Object(I.a)(w.a));return{store:e,persistor:Object(T.b)(e)}}(),t=e.store,n=e.persistor;return r.a.createElement(s.a,{theme:k},r.a.createElement(E,null),r.a.createElement(m.a,{store:t},r.a.createElement(f.a,{persistor:n,loading:null},r.a.createElement(ba,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ha,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[380,1,2]]]);
//# sourceMappingURL=main.ee4c1e6e.chunk.js.map