(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{348:function(e,t){e.exports={"@primary-color":"#1890ff","@link-color":"#1890ff","@success-color":"#52c41a","@warning-color":"#faad14","@error-color":"#f5222d","@font-size-base":"14px","@heading-color":"rgba(0, 0, 0, 0.85)","@text-color":"rgba(0, 0, 0, 0.65)","@text-color-secondary":"rgba(0, 0, 0, 0.45)","@disabled-color":"rgba(0, 0, 0, 0.25)","@border-radius-base":"4px","@border-color-base":"#d9d9d9","@box-shadow-base":"0 2px 8px rgba(0, 0, 0, 0.15)","@table-background":"#ffffff","@table-hover-background":"#f7fff1"}},387:function(e,t,n){e.exports=n(704)},594:function(e,t){},596:function(e,t){},632:function(e,t){},633:function(e,t){},704:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=n(24),l=n.n(c),u=n(343),d=n.n(u),s=n(9),m=n(4),f=n(345),p=n(14);function b(){var e=Object(p.a)(["\n  html, #root {\n    width: 100%;\n    height: 100%;\n    background-color: ",';\n    scroll-behavior: smooth;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  #root {\n    > * {      \n      &:first-child, [role~="group"], [tabindex="-1"] {\n        height: 100%;\n      }\n    }\n  }\n\n  body {\n    width: 100%;\n    height: 100%;    \n    overflow-x: hidden;\n  }\n']);return b=function(){return e},e}var h,v=Object(s.b)(b(),(function(e){return e.theme.colors.background})),E=n(40),g=n(348),j=n.n(g),O=768,x=992,y=1025,S=1440,C={xs:"".concat(576,"px"),sm:"".concat(O,"px"),md:"".concat(x,"px"),lg:"".concat(y,"px"),xl:"".concat(S,"px")},k={name:"Default",colors:Object(E.a)({background:"#f6f7f8",agendaRoomBackground:"#999",agendaRoomBorder:"#000"},j.a),breakpoints:C,spacing:{none:"0px",xs:"4px",sm:"8px",default:"16px",md:"32px",lg:"48px",xl:"72px"}},I=n(32),w=n(158),T=n(264),A=n(349),R=n.n(A),L=n(89),$=n(3),N=n(12),F=n.n(N),D=n(20),V=n(350),_=n.n(V),q="sidebar:collapsed",U={"extreme-poverty":{code:1,title:"Extrema pobreza"},"poverty-line":{code:2,title:"Linha da pobreza"},cad:{code:3,title:"Perfil CAD \xfanico"}},P={admin:{title:"Administrador"},operator:{title:"Operador"},manager:{title:"Gerente"},financial:{title:"Financeiro"}},G=localStorage.getItem("persist:".concat("root")),z=G?JSON.parse(G):void 0,B=z?JSON.parse(z.authReducer):void 0,M=_.a.create({baseURL:"http://localhost:3001",headers:B&&B.token?{Authorization:"Bearer ".concat(B.token)}:void 0}),Y=function(e){M.defaults.headers.common.Authorization=e?"Bearer ".concat(e):null},J=Object($.a)("auth/LOGIN_USER"),K=Object($.a)("auth/LOGIN_USER_SUCCESS"),W=Object($.a)("auth/LOGIN_USER_FAILED"),H=Object($.a)("auth/GET_TOKEN"),Q=Object($.a)("auth/GET_TOKEN_SUCCESS"),X=Object($.a)("auth/GET_TOKEN_FAILED"),Z=function(){return function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(H()),a=n().authReducer.refreshToken){e.next=6;break}return t(X()),e.abrupt("return");case 6:return e.next=8,M.post("/auth/token",{refreshToken:a});case 8:(r=e.sent)&&r.data?(Y(r.data.token),t(Q(r.data))):t(X()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(X(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},ee=Object($.b)({loading:!1},(h={},Object(L.a)(h,J.toString(),(function(e){e.loading=!0,e.error=void 0})),Object(L.a)(h,K.toString(),(function(e,t){e.loading=!1,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.user=t.payload.user})),Object(L.a)(h,W.toString(),(function(e,t){e.loading=!1,e.error=t.payload})),Object(L.a)(h,H.toString(),(function(e){e.loading=!0})),Object(L.a)(h,Q.toString(),(function(e,t){e.loading=!1,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.user=t.payload.user})),Object(L.a)(h,X.toString(),(function(e){e.loading=!1,e.token=void 0,e.refreshToken=void 0,e.user=void 0})),h)),te=Object($.a)("place/GET"),ne=Object($.a)("place/GET_SUCCESS"),ae=Object($.a)("place/GET_FAILED"),re=Object($.a)("place/SAVE"),oe=Object($.a)("place/SAVE_SUCCESS"),ie=Object($.a)("place/SAVE_FAILED"),ce=Object($.a)("place/DELETE"),le=Object($.a)("place/DELETE_SUCCESS"),ue=Object($.a)("place/DELETE_FAILED"),de=function(e){return function(){var t=Object(D.a)(F.a.mark((function t(n,a){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(te()),t.next=4,M.get("/places/".concat(e||""));case 4:(r=t.sent)&&r.data?n(ne(r.data)):n(ae()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(ae(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},se=function(e,t){return e&&(t=t.filter((function(t){return t.id!==e.id}))).unshift(e),t=t.sort((function(e,t){return l()(t.createdAt).diff(l()(e.createdAt))}))},me=Object($.b)({list:[],loading:!1},(function(e){return e.addCase(te,(function(e){e.loading=!0,e.error=void 0})).addCase(ne,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(ae,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(re,(function(e){e.loading=!0,e.error=void 0})).addCase(oe,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(ie,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ce,(function(e){e.loading=!0,e.error=void 0})).addCase(le,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(ue,(function(e,t){e.loading=!1,e.error=t.payload}))})),fe=Object($.a)("benefit/GET"),pe=Object($.a)("benefit/GET_SUCCESS"),be=Object($.a)("benefit/GET_FAILED"),he=Object($.a)("benefit/SAVE"),ve=Object($.a)("benefit/SAVE_SUCCESS"),Ee=Object($.a)("benefit/SAVE_FAILED"),ge=Object($.a)("benefit/DELETE"),je=Object($.a)("benefit/DELETE_SUCCESS"),Oe=Object($.a)("benefit/DELETE_FAILED"),xe=Object($.b)({list:[],loading:!1},(function(e){return e.addCase(fe,(function(e){e.loading=!0,e.error=void 0})).addCase(pe,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(be,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(he,(function(e){e.loading=!0,e.error=void 0})).addCase(ve,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(Ee,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ge,(function(e){e.loading=!0,e.error=void 0})).addCase(je,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Oe,(function(e,t){e.loading=!1,e.error=t.payload}))})),ye=Object($.a)("Institution/GET"),Se=Object($.a)("Institution/GET_SUCCESS"),Ce=Object($.a)("Institution/GET_FAILED"),ke=Object($.a)("Institution/SAVE"),Ie=Object($.a)("Institution/SAVE_SUCCESS"),we=Object($.a)("Institution/SAVE_FAILED"),Te=Object($.a)("Institution/DELETE"),Ae=Object($.a)("Institution/DELETE_SUCCESS"),Re=Object($.a)("Institution/DELETE_FAILED"),Le=function(e){return function(){var t=Object(D.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(ye()),t.next=4,M.get("/institutions/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Se(a.data)):n(Ce()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Ce(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},$e=Object($.b)({list:[],loading:!1},(function(e){return e.addCase(ye,(function(e){e.loading=!0,e.error=void 0})).addCase(Se,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(Ce,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(ke,(function(e){e.loading=!0,e.error=void 0})).addCase(Ie,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(we,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Te,(function(e){e.loading=!0,e.error=void 0})).addCase(Ae,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Re,(function(e,t){e.loading=!1,e.error=t.payload}))})),Ne=Object($.a)("placeStore/GET"),Fe=Object($.a)("placeStore/GET_SUCCESS"),De=Object($.a)("placeStore/GET_FAILED"),Ve=Object($.a)("placeStore/SAVE"),_e=Object($.a)("placeStore/SAVE_SUCCESS"),qe=Object($.a)("placeStore/SAVE_FAILED"),Ue=Object($.a)("placeStore/DELETE"),Pe=Object($.a)("placeStore/DELETE_SUCCESS"),Ge=Object($.a)("placeStore/DELETE_FAILED"),ze=function(e){return function(){var t=Object(D.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Ne()),t.next=4,M.get("/place-stores/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Fe(a.data)):n(De()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(De(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Be=Object($.b)({list:[],loading:!1},(function(e){return e.addCase(Ne,(function(e){e.loading=!0,e.error=void 0})).addCase(Fe,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(De,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Ve,(function(e){e.loading=!0,e.error=void 0})).addCase(_e,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(qe,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Ue,(function(e){e.loading=!0,e.error=void 0})).addCase(Pe,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Ge,(function(e,t){e.loading=!1,e.error=t.payload}))})),Me=Object($.a)("user/GET"),Ye=Object($.a)("user/GET_SUCCESS"),Je=Object($.a)("user/GET_FAILED"),Ke=Object($.a)("user/SAVE"),We=Object($.a)("user/SAVE_SUCCESS"),He=Object($.a)("user/SAVE_FAILED"),Qe=Object($.a)("user/DELETE"),Xe=Object($.a)("user/DELETE_SUCCESS"),Ze=Object($.a)("user/DELETE_FAILED"),et=Object($.b)({list:[],loading:!1},(function(e){return e.addCase(Me,(function(e){e.loading=!0,e.error=void 0})).addCase(Ye,(function(e,t){e.loading=!1,Array.isArray(t.payload)?e.list=se(null,t.payload):e.list=se(t.payload,e.list)})).addCase(Je,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Ke,(function(e){e.loading=!0,e.error=void 0})).addCase(We,(function(e,t){e.loading=!1,e.list=se(t.payload,e.list)})).addCase(He,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(Qe,(function(e){e.loading=!0,e.error=void 0})).addCase(Xe,(function(e,t){e.loading=!1,e.list=e.list.filter((function(e){return e.id!==t.payload.id}))})).addCase(Ze,(function(e,t){e.loading=!1,e.error=t.payload}))})),tt=n(351),nt=n.n(tt),at=Object($.a)("families/UPLOAD"),rt=Object($.a)("families/UPLOAD_SUCCESS"),ot=Object($.a)("families/UPLOAD_FAILED"),it=Object($.a)("families/UPLOAD_RESTART"),ct=Object($.b)({loading:!1},(function(e){return e.addCase(at,(function(e){e.loading=!0,e.error=void 0,e.uploadReport=void 0})).addCase(rt,(function(e,t){e.loading=!1,e.error=void 0,e.uploadReport=t.payload})).addCase(ot,(function(e,t){e.loading=!1,e.error=t.payload,e.uploadReport=void 0})).addCase(it,(function(e){e.loading=!1,e.error=void 0,e.uploadReport=void 0}))})),lt=Object(I.c)({authReducer:ee,placeReducer:me,benefitReducer:xe,institutionReducer:$e,placeStoreReducer:Be,userReducer:et,familiesReducer:ct}),ut={key:"root",storage:R.a},dt=Object(T.a)(ut,lt),st=n(109),mt=n(19),ft=n(705),pt=n(191),bt=n(165),ht=n(718),vt=n(719),Et=n(720),gt=n(721),jt=n(722),Ot=n(723),xt=n(724),yt=n(725),St=n(726),Ct=n(727),kt=n(117),It=n(717),wt=n(41);function Tt(){var e=Object(p.a)(["\n  /* Important !!!!!\n  It is not recommended to add more properties here.\n  If that is the case, it's better that you create your own\n  flex component for your specific case instead. */\n\n  display: flex;\n  align-items: ",";\n  justify-content: ",";\n  flex-direction: ",";\n  ","\n\n  /* For every element inside this component, but only the first nested */\n  > * {\n    /* If not the last one */\n    &:not(:last-child) {\n      ","\n    }\n  }\n"]);return Tt=function(){return e},e}var At=s.c.div(Tt(),(function(e){return e.alignItems?e.alignItems:"initial"}),(function(e){return e.justifyContent?e.justifyContent:"initial"}),(function(e){return e.vertical?"column":"row"}),(function(e){return e.full?"width: 100%; height: 100%;":""}),(function(e){return e.gap?"".concat(e.vertical?"margin-bottom":"margin-right",": ").concat(!0===e.gap?e.theme.spacing.sm:e.theme.spacing[e.gap],";"):""}));function Rt(){var e=Object(p.a)(["\n  overflow: auto;\n"]);return Rt=function(){return e},e}function Lt(){var e=Object(p.a)(["\n  > * {\n    height: 100%;\n    .ant-layout-sider-children {\n      display: flex;\n      flex-direction: column;\n      max-height: 100%;\n\n      > * {\n        &:last-child {\n          margin-top: auto;\n        }\n      }\n    }\n  }\n"]);return Lt=function(){return e},e}function $t(){var e=Object(p.a)(["\n  z-index: 2;\n  color: #fff;\n  font-size: 16px;\n  position: absolute;\n  top: ",";\n  right: -16px;\n  padding: "," ",";\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: ",";\n  cursor: pointer;\n"]);return $t=function(){return e},e}function Nt(){var e=Object(p.a)(["\n  position: absolute;\n  padding: ",";\n  max-width: 100%;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  opacity: ",";\n  transition: opacity 30ms;\n"]);return Nt=function(){return e},e}function Ft(){var e=Object(p.a)(["\n  max-width: 100%;\n  position: relative;\n  height: ",";\n  transition: height 200ms ease-out;\n"]);return Ft=function(){return e},e}s.c.div(Ft(),(function(e){return e.collapsed?"80px":"229px"})),s.c.img(Nt(),(function(e){return e.theme.spacing.default}),(function(e){return e.show?"1":"0"}));var Dt=s.c.span($t(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors["@primary-color"]}),(function(e){return e.theme.colors["@box-shadow-base"]})),Vt=s.c.div(Lt()),_t=s.c.div(Rt()),qt=ft.a.Sider,Ut=kt.a.SubMenu,Pt=[{path:"/beneficios",icon:function(){return r.a.createElement(ht.a,null)},name:"Beneficios"},{path:"/usuarios",icon:function(){return r.a.createElement(vt.a,null)},name:"Usu\xe1rios"},{path:"/lojas",icon:function(){return r.a.createElement(Et.a,null)},name:"Lojas"},{path:"/estabelecimentos",icon:function(){return r.a.createElement(gt.a,null)},name:"Estabelecimentos"},{path:"/instituicoes",icon:function(){return r.a.createElement(jt.a,null)},name:"Institui\xe7\xf5es"},{path:"/familias",icon:function(){return r.a.createElement(Ot.a,null)},name:"Fam\xedlias"},{path:"/relatorios",icon:function(){return r.a.createElement(xt.a,null)},name:"Relat\xf3rios",disabled:!0}],Gt=function(){var e=Object(st.g)(),t=Object(s.d)(),n=Object(a.useState)(Boolean(localStorage.getItem(q))||!1),o=Object(bt.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){return localStorage.setItem(q,i.toString())}),[i]),r.a.createElement(Vt,null,r.a.createElement(qt,{collapsible:!0,theme:"light",trigger:null,collapsed:i,width:300},r.a.createElement("div",null,r.a.createElement(Dt,{onClick:function(){return c(!i)}},i?r.a.createElement(yt.a,null):r.a.createElement(St.a,null))),r.a.createElement(_t,null,r.a.createElement(kt.a,{theme:"light",mode:"inline",defaultSelectedKeys:[e?e.pathname:"/"]},Pt.map((function(e){return function e(t,n){var a,o="".concat(n).concat(t.path),i=t.name.length>30?"".concat(t.name.slice(0,27),"..."):t.name,c=function(){return r.a.createElement(r.a.Fragment,null,t.icon&&t.icon(),r.a.createElement("span",null,i))},l=null===(a=t.children)||void 0===a?void 0:a.map((function(t){return e(t,o)}));return t.children?t.group?r.a.createElement(kt.a.ItemGroup,{key:t.path,title:t.name,disabled:t.disabled},l):r.a.createElement(Ut,{key:o,title:r.a.createElement("span",null,c())},l):r.a.createElement(kt.a.Item,{key:o,disabled:t.disabled},r.a.createElement(mt.b,{to:o},c()))}(e,"")})))),r.a.createElement(At,{vertical:i,alignItems:"center",gap:"sm",justifyContent:"space-between"},r.a.createElement("div",null),r.a.createElement(It.a,{content:"Sair"},r.a.createElement(mt.b,{to:"/logout"},r.a.createElement(wt.a,{type:"ghost",style:{marginRight:i?"auto":t.spacing.sm,marginLeft:"auto",marginBottom:t.spacing.sm}},r.a.createElement(Ct.a,null)))))))};function zt(){var e=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return zt=function(){return e},e}var Bt=s.c.div(zt());function Mt(){var e=Object(p.a)(["\n  height: 100%;\n"]);return Mt=function(){return e},e}var Yt=ft.a.Content,Jt=Object(s.c)(ft.a)(Mt()),Kt=function(e){return r.a.createElement(Jt,null,r.a.createElement(Gt,null),r.a.createElement(ft.a,null,r.a.createElement(Yt,null,e.loading?r.a.createElement(Bt,null,r.a.createElement(pt.a,null)):e.children)))},Wt=n(709),Ht=n(712),Qt=n(713),Xt=n(711);function Zt(){var e=Object(p.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return Zt=function(){return e},e}function en(){var e=Object(p.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return en=function(){return e},e}var tn=s.c.div(en()),nn=s.c.div(Zt()),an=function(e){var t=Object(a.useState)(""),n=Object(bt.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),l=Object(bt.a)(c,2),u=l[0],d=l[1],s=Object(m.b)(),f=Object(m.c)((function(e){return e.authReducer.loading})),p=Object(m.c)((function(e){return e.authReducer.error}));return r.a.createElement(tn,null,r.a.createElement(Wt.a,null,r.a.createElement(nn,null,r.a.createElement(Ht.a,{style:{width:"300px"}},r.a.createElement(Ht.a.Item,null,r.a.createElement(Qt.a,{size:"large",value:o,placeholder:"Email",onChange:function(e){return i(e.target.value)}})),r.a.createElement(Ht.a.Item,null,r.a.createElement(Qt.a.Password,{size:"large",value:u,placeholder:"Password",onChange:function(e){return d(e.target.value)}})),p&&r.a.createElement(Ht.a.Item,{style:{textAlign:"center"}},r.a.createElement(Xt.a.Text,{type:"danger"},p.message||"Ocorreu um erro inesperado")),r.a.createElement(wt.a,{size:"large",loading:f,type:"primary",onClick:function(){return s(function(e,t){return function(){var n=Object(D.a)(F.a.mark((function n(a){var r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(J()),n.next=4,M.post("/auth/login",{email:e,password:t});case 4:(r=n.sent)&&r.data?(Y(r.data.token),a(K(r.data))):a(W()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a(W(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,u))},style:{width:"100%"}},"Entrar")))))};function rn(){var e=Object(p.a)(["\n  padding: ",";\n"]);return rn=function(){return e},e}var on=s.c.div(rn(),(function(e){return e.theme.spacing.md})),cn=function(e){var t=Object(m.c)((function(e){return e.authReducer.user}));return r.a.createElement(on,null,r.a.createElement(Wt.a,null,r.a.createElement(Xt.a.Text,null,"Bem vindo ".concat(t.name))))},ln=n(728),un=n(706),dn=n(710);function sn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return sn=function(){return e},e}function mn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return mn=function(){return e},e}function fn(){var e=Object(p.a)(["\n  padding: ",";\n"]);return fn=function(){return e},e}var pn=s.c.div(fn(),(function(e){return e.theme.spacing.md})),bn=(s.c.div(mn()),s.c.div(sn(),(function(e){return e.theme.spacing.sm}))),hn=function(e){var t=Object(m.c)((function(e){return e.placeReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){n(de())}),[n]),r.a.createElement(pn,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Estabelecimentos"),extra:r.a.createElement(mt.b,{to:"/estabelecimentos/criar"},r.a.createElement(wt.a,{type:"primary"},"Criar"))},r.a.createElement(un.a,{dataSource:t},r.a.createElement(un.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(un.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(un.a.Column,{render:function(e){return r.a.createElement(bn,null,r.a.createElement(mt.b,{to:"/estabelecimentos/".concat(e.id,"/editar")},r.a.createElement(wt.a,null,"Editar")),r.a.createElement(wt.a,{danger:!0,onClick:function(){return dn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(ln.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(D.a)(F.a.mark((function e(n,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(te()),e.next=4,M.delete("/places/".concat(t||""));case 4:n(le({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(ue(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},vn=n(715),En=n(80),gn=n(263),jn=n(588),On={default:"${path} est\xe1 inv\xe1lido",required:"${path} \xe9 um campo obrigat\xf3rio",oneOf:"${path} precisa ser igual a algum dos seguintes valores: ${values}",notOneOf:"${path} n\xe3o deve ser igual a algum dos seguintes valores: ${values}",notType:function(e){var t=e.path,n=e.type,a=e.value,r=e.originalValue,o=null!=r&&r!==a,i="".concat(t," deve ser do tipo `").concat(n,"`, ")+"mas o resultado final \xe9: `".concat(jn(a,!0),"`")+(o?" (cast a partir do valor `".concat(jn(r,!0),"`)."):".");return null===a&&(i+='\n Se "null" deve ser considerado como um valor vazio, garanta que o schema tenha `.nullable()`'),i}};gn.setLocale({mixed:On,string:{length:"${path} precisa ter exatamente ${length} caracteres",min:"${path} precisa ter no m\xednimo ${min} caracteres",max:"${path} precisa ter no m\xe1ximo ${max} caracteres",matches:'${path} precisa dar match com: "${regex}"',email:"${path} precisa ser um e-mail v\xe1lido",url:"${path} precisa ser uma URL v\xe1lida",trim:"${path} n\xe3o pode ter espa\xe7os no fim ou no in\xedcio",lowercase:"${path} deve estar em min\xfasculo",uppercase:"${path} deve estar em mai\xfasculo"},number:{min:"${path} precisa ser maior ou igual a ${min}",max:"${path} precisa ser menor ou igual a ${max}",lessThan:"${path} precisa ser menor que ${less}",moreThan:"${path} precisa ser maior que ${more}",notEqual:"${path} n\xe3o deve ser igual a ${notEqual}",positive:"${path} precisa ser um n\xfamero positivo",negative:"${path} precisa ser um n\xfamero negativo",integer:"${path} precisa ser um n\xfamero inteiro"},date:{min:"${path} precisa vir depois de ${min}",max:"${path} previsa vir antes de ${max}"},boolean:{},object:{noUnknown:"${path} n\xe3o pode ter chaves n\xe3o espec\xedficadas no seu object shape"},array:{min:"${path} precisa ter no m\xednimo ${min} itens",max:"${path} precisa ter ${max} ou menos itens"}});var xn=gn,yn=xn.object().shape({title:xn.string().label("Nome").required()}),Sn=function(e){var t=Object(st.f)(),n="criar"===e.match.params.id,a=Object(m.b)(),o=Object(m.c)((function(t){return t.placeReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),i=Object(m.c)((function(e){return e.placeReducer.loading})),c=Object(En.a)({initialValues:o||{title:""},validationSchema:yn,onSubmit:function(e,n){var r,o,i,c=n.setStatus;c(),a((r=e,o=function(){return t.push("/estabelecimentos")},i=function(){return c("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(ce()),a=n().authReducer.user,!r.id){e.next=9;break}return e.next=6,M.put("/places/".concat(r.id),Object(E.a)({},r,{cityId:a.cityId}));case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,M.post("/places",Object(E.a)({},r,{cityId:a.cityId}));case 11:c=e.sent;case 12:c&&c.data?(t(oe(c.data)),o&&o()):(t(ie()),i&&i()),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t(ie(e.t0)),i&&i(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()))}}),l=c.handleSubmit,u=c.handleChange,d=c.values,s=c.getFieldMeta,f=c.submitForm,p=c.status,b=c.errors,h=c.touched,v=s("title");return r.a.createElement(dn.a,{title:n?"Criar":"Editar",visible:!0,onCancel:function(){return t.push("/estabelecimentos")},onOk:f,confirmLoading:i,okType:b&&Object.keys(b).length>0&&h?"danger":"primary"},p&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:p,type:"error"}),r.a.createElement("form",{onSubmit:l},r.a.createElement(Ht.a,{layout:"vertical"},r.a.createElement(Ht.a.Item,{label:"Nome",validateStatus:v.error&&v.touched?"error":"",help:v.error&&v.touched?v.error:void 0},r.a.createElement(Qt.a,{id:"title",name:"title",onChange:u,value:d.title,onPressEnter:f})))))},Cn=n(376),kn=n.n(Cn),In=function(){var e=Object(m.b)(),t=Object(st.f)();return Object(a.useEffect)((function(){e(X()),t.push("/")}),[e,t]),r.a.createElement("div",null,"Deslogando...")};function wn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return wn=function(){return e},e}function Tn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return Tn=function(){return e},e}function An(){var e=Object(p.a)(["\n  padding: ",";\n"]);return An=function(){return e},e}var Rn=s.c.div(An(),(function(e){return e.theme.spacing.md})),Ln=(s.c.div(Tn()),s.c.div(wn(),(function(e){return e.theme.spacing.sm}))),$n=function(e){var t=Object(m.c)((function(e){return e.benefitReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){var e;n(function(){var t=Object(D.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(fe()),t.next=4,M.get("/benefits/".concat(e||""));case 4:(a=t.sent)&&a.data?n(pe(a.data)):n(be()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(be(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[n]),r.a.createElement(Rn,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Benef\xedcios"),extra:r.a.createElement(mt.b,{to:"/beneficios/criar"},r.a.createElement(wt.a,{type:"primary"},"Criar"))},r.a.createElement(un.a,{dataSource:t},r.a.createElement(un.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(un.a.Column,{title:"Grupo",dataIndex:"groupName",render:function(e){var t;return(null===(t=U[e])||void 0===t?void 0:t.title)||e}}),r.a.createElement(un.a.Column,{title:"M\xeas",dataIndex:"month"}),r.a.createElement(un.a.Column,{title:"Ano",dataIndex:"year"}),r.a.createElement(un.a.Column,{title:"Valor",dataIndex:"value",render:function(e){return"R$ ".concat(e)}}),r.a.createElement(un.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(un.a.Column,{render:function(e){return r.a.createElement(Ln,null,r.a.createElement(mt.b,{to:"/beneficios/".concat(e.id,"/editar")},r.a.createElement(wt.a,null,"Editar")),r.a.createElement(wt.a,{danger:!0,onClick:function(){return dn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(ln.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(D.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(fe()),e.next=4,M.delete("/Benefits/".concat(t||""));case 4:n(je({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Oe(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},Nn=n(164),Fn=n(147),Dn=n(73),Vn=n(707),_n=n(265),qn=Nn.a.Option,Un=xn.object().shape({institutionId:xn.number().label("Institui\xe7\xe3o").required(),groupName:xn.string().label("Fam\xedlia").required(),title:xn.string().label("Nome").required(),month:xn.number().label("M\xeas").required(),year:xn.number().label("Ano").required(),value:xn.string().label("Valor").required()}),Pn=function(e){var t,n,o=Object(st.f)(),i="criar"===e.match.params.id,c=Object(m.b)();Object(a.useEffect)((function(){c(Le())}),[c]);var u=Object(m.c)((function(t){return t.benefitReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),d=Object(m.c)((function(e){return e.benefitReducer.loading})),s=Object(m.c)((function(e){return e.institutionReducer.loading})),f=Object(m.c)((function(e){return e.institutionReducer.list})),p=Object(En.a)({initialValues:u||{institutionId:!s&&f&&f.length>0?f[0].id:-1,groupName:"extreme-poverty",title:"",month:void 0,year:void 0,value:void 0},validationSchema:Un,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),c((n=e,a=function(){return o.push("/beneficios")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(D.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(ge()),!n.id){e.next=8;break}return e.next=5,M.put("/Benefits/".concat(n.id),Object(E.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/Benefits",Object(E.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(ve(o.data)),a&&a()):(t(Ee()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(Ee(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),b=p.handleSubmit,h=p.handleChange,v=p.values,g=p.getFieldMeta,j=p.submitForm,O=p.status,x=p.errors,y=p.touched,S=p.setFieldValue,C=p.setFieldTouched,k=g("title"),I=g("groupName"),w=g("month"),T=g("year"),A=g("value"),R=g("institutionId");return r.a.createElement(dn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/beneficios")},onOk:j,confirmLoading:d,okType:x&&Object.keys(x).length>0&&y?"danger":"primary"},O&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:O,type:"error"}),r.a.createElement("form",{onSubmit:b},r.a.createElement(Ht.a,{layout:"vertical"},r.a.createElement(Ht.a.Item,{label:"Nome",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Qt.a,{id:"title",name:"title",onChange:h,value:v.title,onPressEnter:j})),r.a.createElement(Ht.a.Item,{label:"Institui\xe7\xe3o",validateStatus:R.error&&R.touched?"error":"",help:R.error&&R.touched?R.error:void 0},r.a.createElement(Nn.a,{disabled:s,defaultValue:null===(t=v.institutionId)||void 0===t?void 0:t.toString(),onSelect:function(e){return S("institutionId",Number(e))},value:(null===(n=v.institutionId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:s?r.a.createElement(pt.a,{size:"small"}):null,onChange:function(e){S("institutionId",Number(e))},onBlur:function(){C("institutionId",!0)}},!s&&f&&f.length>0&&f.map((function(e){var t;return r.a.createElement(qn,{key:e.id,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(Ht.a.Item,{label:"Grupo",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(Nn.a,{defaultValue:v.groupName,onSelect:function(e){return S("groupName",e)},value:v.groupName||void 0,onChange:function(e){S("groupName",e)},onBlur:function(){C("groupName",!0)}},Object.keys(U).map((function(e){return r.a.createElement(qn,{key:e,value:e},U[e].title)})))),r.a.createElement(Fn.a,{gutter:[16,16]},r.a.createElement(Dn.a,{span:12},r.a.createElement(Ht.a.Item,{label:"M\xeas",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(Vn.a.MonthPicker,{format:"MMMM",locale:_n.a,style:{width:"100%"},defaultValue:v.month?l()(v.month,"MM"):void 0,onChange:function(e){return S("month",Number(null===e||void 0===e?void 0:e.format("MM")))}}))),r.a.createElement(Dn.a,{span:12},r.a.createElement(Ht.a.Item,{label:"Ano",validateStatus:T.error&&T.touched?"error":"",help:T.error&&T.touched?T.error:void 0},r.a.createElement(Vn.a.YearPicker,{format:"YYYY",locale:_n.a,style:{width:"100%"},defaultValue:v.year?l()(v.year,"YYYY"):void 0,onChange:function(e){return S("year",Number(null===e||void 0===e?void 0:e.format("YYYY")))}})))),r.a.createElement(Ht.a.Item,{label:"Valor",validateStatus:A.error&&A.touched?"error":"",help:A.error&&A.touched?A.error:void 0},r.a.createElement(Qt.a,{id:"value",name:"value",prefix:"R$",onChange:h,value:v.value})))))};function Gn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return Gn=function(){return e},e}function zn(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return zn=function(){return e},e}function Bn(){var e=Object(p.a)(["\n  padding: ",";\n"]);return Bn=function(){return e},e}var Mn=s.c.div(Bn(),(function(e){return e.theme.spacing.md})),Yn=(s.c.div(zn()),s.c.div(Gn(),(function(e){return e.theme.spacing.sm}))),Jn=function(e){return e?e=(e=(e=(e=e.replace(/\D/g,"").substr(0,11)).replace(/^(\d{3})(\d)/,"$1.$2")).replace(/^(\d{3}.\d{3})(\d)/,"$1.$2")).replace(/^(\d{3}.\d{3}.\d{3})(\d{1,2})/,"$1-$2"):""},Kn=function(e){return e?e=(e=(e=(e=(e=e.replace(/\D/g,"").substr(0,14)).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2}.\d{3})(\d)/,"$1.$2")).replace(/^(\d{2}.\d{3}.\d{3})(\d)/,"$1/$2")).replace(/^(\d{2}.\d{3}.\d{3}\/\d{4})(\d{1,2})/,"$1-$2"):""},Wn=function(){var e=Object(m.c)((function(e){return e.placeStoreReducer.list})),t=Object(m.c)((function(e){return e.placeReducer.loading})),n=Object(m.c)((function(e){return e.placeReducer.list})),o=Object(m.b)();return Object(a.useEffect)((function(){(!n||n.length<=0)&&o(de()),o(ze())}),[o,n]),r.a.createElement(Mn,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Lojas"),extra:r.a.createElement(mt.b,{to:"/lojas/criar"},r.a.createElement(wt.a,{type:"primary"},"Criar"))},r.a.createElement(un.a,{dataSource:e},r.a.createElement(un.a.Column,{title:"Estabelecimento",dataIndex:"placeId",render:function(e){var a;return t||!n||n.length<=0?r.a.createElement(pt.a,{size:"small"}):null===(a=n.find((function(t){return t.id===e})))||void 0===a?void 0:a.title}}),r.a.createElement(un.a.Column,{title:"Loja",dataIndex:"title"}),r.a.createElement(un.a.Column,{title:"CNPJ",dataIndex:"cnpj",render:function(e){return Kn(e)}}),r.a.createElement(un.a.Column,{title:"Endere\xe7o",dataIndex:"address"}),r.a.createElement(un.a.Column,{render:function(e){return r.a.createElement(Yn,null,r.a.createElement(mt.b,{to:"/lojas/".concat(e.id,"/editar")},r.a.createElement(wt.a,null,"Editar")),r.a.createElement(wt.a,{danger:!0,onClick:function(){return dn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(ln.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;o((t=e.id,function(){var e=Object(D.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ne()),e.next=4,M.delete("/place-stores/".concat(t||""));case 4:n(Pe({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Ge(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},Hn=n(385),Qn=function(e){var t=e.setValue,n=e.formatter,o=e.parser,i=e.onChange,c=Object(Hn.a)(e,["setValue","formatter","parser","onChange"]),l=Object(a.useCallback)((function(e){if(t){var a=n?n(e.target.value):e.target.value;t(o?o(a):a)}else i&&i(e)}),[n,o,i,t]);return r.a.createElement(Qt.a,Object.assign({},c,{onChange:l}))},Xn=Nn.a.Option,Zn=xn.object().shape({title:xn.string().label("Loja").required(),placeId:xn.number().label("Estabelecimento").required(),cnpj:xn.string().label("CNPJ").required(),address:xn.string().label("Endere\xe7o").required()}),ea=function(e){var t,n,o=Object(st.f)(),i="criar"===e.match.params.id,c=Object(m.c)((function(t){return t.placeStoreReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),l=Object(m.c)((function(e){return e.placeStoreReducer.loading})),u=Object(m.c)((function(e){return e.placeReducer.loading})),d=Object(m.c)((function(e){return e.placeReducer.list})),s=Object(m.b)();Object(a.useEffect)((function(){(!d||d.length<=0)&&s(de())}),[s,d]);var f=Object(En.a)({initialValues:c||{placeId:!u&&d&&d.length>0?d[0].id:-1,title:"",cnpj:"",address:""},validationSchema:Zn,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),s((n=e,a=function(){return o.push("/lojas")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(D.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Ue()),!n.id){e.next=8;break}return e.next=5,M.put("/place-stores/".concat(n.id),Object(E.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/place-stores",Object(E.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(_e(o.data)),a&&a()):(t(qe()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(qe(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),p=f.handleSubmit,b=f.handleChange,h=f.values,v=f.getFieldMeta,g=f.submitForm,j=f.status,O=f.errors,x=f.touched,y=f.setFieldValue,S=f.setFieldTouched,C=v("title"),k=v("cnpj"),I=v("address"),w=v("placeId");return r.a.createElement(dn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/lojas")},onOk:g,confirmLoading:l,okType:O&&Object.keys(O).length>0&&x?"danger":"primary"},j&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:j,type:"error"}),r.a.createElement("form",{onSubmit:p},r.a.createElement(Ht.a,{layout:"vertical"},r.a.createElement(Ht.a.Item,{label:"Loja",validateStatus:C.error&&C.touched?"error":"",help:C.error&&C.touched?C.error:void 0},r.a.createElement(Qt.a,{id:"title",name:"title",onChange:b,value:h.title,onPressEnter:g})),r.a.createElement(Ht.a.Item,{label:"Estabelecimento",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(Nn.a,{disabled:u,defaultValue:null===(t=h.placeId)||void 0===t?void 0:t.toString(),onSelect:function(e){return y("placeId",Number(e))},value:(null===(n=h.placeId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:u?r.a.createElement(pt.a,{size:"small"}):null,onChange:function(e){y("placeId",Number(e))},onBlur:function(){S("placeId",!0)}},!u&&d&&d.length>0&&d.map((function(e){var t;return r.a.createElement(Xn,{key:e.title,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(Ht.a.Item,{label:"CNPJ",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Qn,{id:"cnpj",name:"cnpj",onPressEnter:g,value:Kn(h.cnpj),setValue:function(e){return y("cnpj",e)},formatter:function(e){return Kn(null===e||void 0===e?void 0:e.toString())},parser:function(e){return e?e.replace(/[./-]/g,"").trim():""}})),r.a.createElement(Ht.a.Item,{label:"Endere\xe7o",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(Qt.a,{id:"address",name:"address",onChange:b,value:h.address,onPressEnter:g})))))},ta=n(384);function na(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return na=function(){return e},e}function aa(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return aa=function(){return e},e}function ra(){var e=Object(p.a)(["\n  padding: ",";\n"]);return ra=function(){return e},e}var oa=s.c.div(ra(),(function(e){return e.theme.spacing.md})),ia=(s.c.div(aa()),s.c.div(na(),(function(e){return e.theme.spacing.sm}))),ca=function(){var e=Object(m.c)((function(e){return e.userReducer.list})),t=Object(m.c)((function(e){return e.placeStoreReducer.loading})),n=Object(m.c)((function(e){return e.placeStoreReducer.list})),o=Object(m.b)();return Object(a.useEffect)((function(){var e;(!n||n.length<=0)&&o(ze()),o(function(){var t=Object(D.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Me()),t.next=4,M.get("/users/".concat(e||""));case 4:(a=t.sent)&&a.data?n(Ye(a.data)):n(Je()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Je(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[o,n]),r.a.createElement(oa,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Usu\xe1rios"),extra:r.a.createElement(mt.b,{to:"/usuarios/criar"},r.a.createElement(wt.a,{type:"primary"},"Criar"))},r.a.createElement(un.a,{dataSource:e},r.a.createElement(un.a.Column,{title:"Nome",dataIndex:"name"}),r.a.createElement(un.a.Column,{title:"Email",dataIndex:"email"}),r.a.createElement(un.a.Column,{title:"Ativo",dataIndex:"active",render:function(e){return r.a.createElement(ta.a,null,e?"Ativo":"Inativo")}}),r.a.createElement(un.a.Column,{title:"CPF",dataIndex:"cpf",render:function(e){return Jn(e)}}),r.a.createElement(un.a.Column,{title:"Cargo",dataIndex:"role",render:function(e){var t;return(null===(t=P[e])||void 0===t?void 0:t.title)||e}}),r.a.createElement(un.a.Column,{title:"Loja",dataIndex:"placeStoreId",render:function(e){var a;return t||!n||n.length<=0?r.a.createElement(pt.a,{size:"small"}):null===(a=n.find((function(t){return t.id===e})))||void 0===a?void 0:a.title}}),r.a.createElement(un.a.Column,{render:function(e){return r.a.createElement(ia,null,r.a.createElement(mt.b,{to:"/usuarios/".concat(e.id,"/editar")},r.a.createElement(wt.a,null,"Editar")),r.a.createElement(wt.a,{danger:!0,onClick:function(){return dn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(ln.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;o((t=e.id,function(){var e=Object(D.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Me()),e.next=4,M.delete("/users/".concat(t||""));case 4:n(Xe({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Ze(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},la=n(166),ua=Nn.a.Option,da=xn.object().shape({placeStoreId:xn.number().label("Loja").required(),name:xn.string().label("Nome").required(),password:xn.string().label("Senha").required(),cpf:xn.string().label("CPF").required(),email:xn.string().label("Email").required(),role:xn.string().label("Cargo").required()}),sa=function(e){var t,n,o=Object(st.f)(),i="criar"===e.match.params.id,c=Object(m.c)((function(t){return t.userReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),l=Object(m.c)((function(e){return e.userReducer.loading})),u=Object(m.c)((function(e){return e.placeStoreReducer.loading})),d=Object(m.c)((function(e){return e.placeStoreReducer.list})),s=Object(m.b)();Object(a.useEffect)((function(){(!d||d.length<=0)&&s(ze())}),[s,d]);var f=Object(En.a)({initialValues:c||{placeStoreId:!u&&d&&d.length>0?d[0].id:-1,name:"",password:"",cpf:"",email:"",role:"admin",active:!1},validationSchema:da,onSubmit:function(e,t){var n,a,r,i=t.setStatus;i(),s((n=e,a=function(){return o.push("/usuarios")},r=function(){return i("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(D.a)(F.a.mark((function e(t){var o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Qe()),!n.id){e.next=8;break}return e.next=5,M.put("/users/".concat(n.id),Object(E.a)({},n));case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/users",Object(E.a)({},n));case 10:o=e.sent;case 11:o&&o.data?(t(We(o.data)),a&&a()):(t(He()),r&&r()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(He(e.t0)),r&&r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),p=f.handleSubmit,b=f.handleChange,h=f.values,v=f.getFieldMeta,g=f.submitForm,j=f.status,O=f.errors,x=f.touched,y=f.setFieldValue,S=f.setFieldTouched,C=f.getFieldProps,k=v("name"),I=v("password"),w=v("cpf"),T=v("email"),A=v("placeStoreId"),R=v("role"),L=v("active"),$=C("active");return r.a.createElement(dn.a,{title:i?"Criar":"Editar",visible:!0,onCancel:function(){return o.push("/usuarios")},onOk:g,confirmLoading:l,okType:O&&Object.keys(O).length>0&&x?"danger":"primary"},j&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:j,type:"error"}),r.a.createElement("form",{onSubmit:p},r.a.createElement(Ht.a,{layout:"vertical"},r.a.createElement(Ht.a.Item,{label:"Nome",validateStatus:k.error&&k.touched?"error":"",help:k.error&&k.touched?k.error:void 0},r.a.createElement(Qt.a,{id:"name",name:"name",onChange:b,value:h.name,onPressEnter:g})),i&&r.a.createElement(Ht.a.Item,{label:"Senha",validateStatus:I.error&&I.touched?"error":"",help:I.error&&I.touched?I.error:void 0},r.a.createElement(Qt.a,{id:"password",name:"password",onChange:b,value:h.password,onPressEnter:g})),r.a.createElement(Ht.a.Item,{label:"CPF",validateStatus:w.error&&w.touched?"error":"",help:w.error&&w.touched?w.error:void 0},r.a.createElement(Qn,{id:"cpf",name:"cpf",onPressEnter:g,value:Jn(h.cpf),setValue:function(e){return y("cpf",e)},formatter:function(e){return Jn(null===e||void 0===e?void 0:e.toString())},parser:function(e){return e?e.replace(/[./-]/g,"").trim():""}})),r.a.createElement(Ht.a.Item,{label:"Email",validateStatus:T.error&&T.touched?"error":"",help:T.error&&T.touched?T.error:void 0},r.a.createElement(Qt.a,{id:"email",name:"email",onChange:b,value:h.email,onPressEnter:g})),r.a.createElement(Ht.a.Item,{label:"Loja",validateStatus:A.error&&A.touched?"error":"",help:A.error&&A.touched?A.error:void 0},r.a.createElement(Nn.a,{disabled:u,defaultValue:null===(t=h.placeStoreId)||void 0===t?void 0:t.toString(),onSelect:function(e){return y("placeStoreId",Number(e))},value:(null===(n=h.placeStoreId)||void 0===n?void 0:n.toString())||void 0,notFoundContent:u?r.a.createElement(pt.a,{size:"small"}):null,onChange:function(e){y("placeStoreId",Number(e))},onBlur:function(){S("placeStoreId",!0)}},!u&&d&&d.length>0&&d.map((function(e){var t;return r.a.createElement(ua,{key:e.id,value:(null===(t=e.id)||void 0===t?void 0:t.toString())||"-1"},e.title)})))),r.a.createElement(Ht.a.Item,{label:"Cargo",validateStatus:R.error&&R.touched?"error":"",help:R.error&&R.touched?R.error:void 0},r.a.createElement(Nn.a,{defaultValue:h.role,onSelect:function(e){return y("role",e)},value:h.role||void 0,onChange:function(e){y("role",e)},onBlur:function(){S("role",!0)}},Object.keys(P).map((function(e){return r.a.createElement(ua,{key:e,value:e},P[e].title)})))),r.a.createElement(Ht.a.Item,{validateStatus:L.error&&L.touched?"error":"",help:L.error&&L.touched?L.error:void 0},r.a.createElement(la.a,Object.assign({checked:h.active},$),"Ativo")))))},ma=xn.object().shape({title:xn.string().label("Nome").required()}),fa=function(e){var t=Object(st.f)(),n="criar"===e.match.params.id,a=Object(m.b)(),o=Object(m.c)((function(t){return t.institutionReducer.list.find((function(t){return t.id===Number(e.match.params.id)}))})),i=Object(m.c)((function(e){return e.institutionReducer.loading})),c=Object(En.a)({initialValues:o||{title:""},validationSchema:ma,onSubmit:function(e,n){var r,o,i,c=n.setStatus;c(),a((r=e,o=function(){return t.push("/instituicoes")},i=function(){return c("Ocorreu um erro ao realizar a requisi\xe7\xe3o.")},function(){var e=Object(D.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(Te()),!r.id){e.next=8;break}return e.next=5,M.put("/institutions/".concat(r.id),Object(E.a)({},r));case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,M.post("/institutions",Object(E.a)({},r));case 10:n=e.sent;case 11:n&&n.data?(t(Ie(n.data)),o&&o()):(t(we()),i&&i()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),t(we(e.t0)),i&&i(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),l=c.handleSubmit,u=c.handleChange,d=c.values,s=c.getFieldMeta,f=c.submitForm,p=c.status,b=c.errors,h=c.touched,v=s("title");return r.a.createElement(dn.a,{title:n?"Criar":"Editar",visible:!0,onCancel:function(){return t.push("/instituicoes")},onOk:f,confirmLoading:i,okType:b&&Object.keys(b).length>0&&h?"danger":"primary"},p&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:p,type:"error"}),r.a.createElement("form",{onSubmit:l},r.a.createElement(Ht.a,{layout:"vertical"},r.a.createElement(Ht.a.Item,{label:"Nome",validateStatus:v.error&&v.touched?"error":"",help:v.error&&v.touched?v.error:void 0},r.a.createElement(Qt.a,{id:"title",name:"title",onChange:u,value:d.title,onPressEnter:f})))))};function pa(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  > * {\n    margin-left: ",";\n  }\n"]);return pa=function(){return e},e}function ba(){var e=Object(p.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(0, 0, 0, 0.1);\n  top: 0;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return ba=function(){return e},e}function ha(){var e=Object(p.a)(["\n  padding: ",";\n"]);return ha=function(){return e},e}var va=s.c.div(ha(),(function(e){return e.theme.spacing.md})),Ea=(s.c.div(ba()),s.c.div(pa(),(function(e){return e.theme.spacing.sm}))),ga=function(e){var t=Object(m.c)((function(e){return e.institutionReducer.list})),n=Object(m.b)();return Object(a.useEffect)((function(){n(Le())}),[n]),r.a.createElement(va,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Institui\xe7\xf5es"),extra:r.a.createElement(mt.b,{to:"/instituicoes/criar"},r.a.createElement(wt.a,{type:"primary"},"Criar"))},r.a.createElement(un.a,{dataSource:t},r.a.createElement(un.a.Column,{title:"Nome",dataIndex:"title"}),r.a.createElement(un.a.Column,{title:"Criado",dataIndex:"createdAt",render:function(e){return l()(e).fromNow()}}),r.a.createElement(un.a.Column,{render:function(e){return r.a.createElement(Ea,null,r.a.createElement(mt.b,{to:"/instituicoes/".concat(e.id,"/editar")},r.a.createElement(wt.a,null,"Editar")),r.a.createElement(wt.a,{danger:!0,onClick:function(){return dn.a.confirm({title:"Voc\xea realmente quer deletar esse registro?",icon:r.a.createElement(ln.a,null),okText:"Sim",okType:"danger",cancelText:"N\xe3o",onOk:function(){var t;n((t=e.id,function(){var e=Object(D.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ye()),e.next=4,M.delete("/institutions/".concat(t||""));case 4:n(Ae({id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(Re(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}},"Excluir"))}}))))},ja=n(729),Oa=n(708),xa=n(714),ya=n(716);function Sa(){var e=Object(p.a)(["\n  padding: ",";\n"]);return Sa=function(){return e},e}var Ca=s.c.div(Sa(),(function(e){return e.theme.spacing.md})),ka=Oa.a.Dragger,Ia=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.familiesReducer.loading})),n=Object(m.c)((function(e){return e.familiesReducer.error})),a=Object(m.c)((function(e){return e.familiesReducer.uploadReport}));return r.a.createElement(Ca,null,r.a.createElement(Wt.a,{title:r.a.createElement(Xt.a.Title,null,"Fam\xedlias")},n&&r.a.createElement(vn.a,{message:"Erro no formul\xe1rio",description:n,type:"error",style:{marginBottom:"20px"}}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(xa.a,{bordered:!0,title:"Relat\xf3rio dos registros",size:"small",column:4,style:{marginBottom:"20px"}},r.a.createElement(xa.a.Item,{label:"Criados"},a.created),r.a.createElement(xa.a.Item,{label:"Atualizados"},a.updated),r.a.createElement(xa.a.Item,{label:"Removidos"},a.deleted),r.a.createElement(xa.a.Item,{label:"Errados"},a.wrong)),a.report&&a.report.length>0&&r.a.createElement(ya.a,{size:"small",bordered:!0,dataSource:a.report,renderItem:function(e){return r.a.createElement(ya.a.Item,null,e)},style:{marginBottom:"20px"}}),r.a.createElement(At,{alignItems:"center",justifyContent:"flex-end"},r.a.createElement(wt.a,{htmlType:"button",type:"primary",onClick:function(){return e(it())}},"Enviar novamente"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,{spinning:t},r.a.createElement(ka,{id:"file",name:"file",accept:".csv",action:void 0,showUploadList:!1,customRequest:function(t){var n=t.file;return e(function(e,t,n){return function(){var a=Object(D.a)(F.a.mark((function a(r){var o,i,c;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=function(e){r(ot(e)),n&&n(e)},a.prev=1,!e){a.next=16;break}if(".csv"!==nt.a.extname(e.name)){a.next=13;break}return r(at()),(i=new FormData).append("file",e),a.next=9,M.post("/families/file",i,{timeout:216e5});case 9:(c=a.sent)&&c.data&&200===c.status?(r(rt(c.data)),t&&t()):o("Ocorreu um erro no servidor. Tente novamente."),a.next=14;break;case 13:o("O tipo de arquivo precisa ser .csv.");case 14:a.next=17;break;case 16:o("Nenhum arquivo encontrado.");case 17:a.next=22;break;case 19:a.prev=19,a.t0=a.catch(1),o(a.t0.message);case 22:case"end":return a.stop()}}),a,null,[[1,19]])})));return function(e){return a.apply(this,arguments)}}()}(n))}},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(ja.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Clique ou arraste um arquivo nesta \xe1rea para enviar"),r.a.createElement("p",{className:"ant-upload-hint"},"O arquivo precisa ser do tipo CSV"))))))},wa=function(e){var t=function(){var e=Object(m.c)((function(e){return e.authReducer.token})),t=Object(st.g)(),n=Object(m.b)();return Object(a.useEffect)((function(){if(e){var a=kn.a.decode(e);a&&a.exp<Date.now()/1e3&&t.pathname&&n(Z())}else n(Z())}),[n,e,t.pathname]),Object(m.c)((function(e){return e.authReducer.loading}))}();return r.a.createElement(Kt,{loading:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(st.a,{path:"/logout",component:In}),r.a.createElement(st.a,{path:"/estabelecimentos",component:hn}),r.a.createElement(st.a,{path:"/estabelecimentos/:id",component:Sn}),r.a.createElement(st.a,{path:"/beneficios",component:$n}),r.a.createElement(st.a,{path:"/beneficios/:id",component:Pn}),r.a.createElement(st.a,{path:"/lojas",component:Wn}),r.a.createElement(st.a,{path:"/lojas/:id",component:ea}),r.a.createElement(st.a,{path:"/usuarios",component:ca}),r.a.createElement(st.a,{path:"/usuarios/:id",component:sa}),r.a.createElement(st.a,{path:"/instituicoes",component:ga}),r.a.createElement(st.a,{path:"/instituicoes/:id",component:fa}),r.a.createElement(st.a,{path:"/familias",component:Ia}),r.a.createElement(st.a,{path:"/",component:cn,exact:!0})))},Ta=function(e){return r.a.createElement(st.c,null,r.a.createElement(st.a,{path:"*"},r.a.createElement(an,null)))},Aa=function(e){var t=Object(m.c)((function(e){return e.authReducer.user}));return r.a.createElement(mt.a,null,t&&"admin"===t.role?r.a.createElement(wa,e):r.a.createElement(Ta,e))},Ra=(n(703),function(){Object(a.useEffect)((function(){l.a.updateLocale("pt-br",d.a)}),[]);var e=function(){var e=Object(I.e)(dt,Object(I.a)(w.a));return{store:e,persistor:Object(T.b)(e)}}(),t=e.store,n=e.persistor;return r.a.createElement(s.a,{theme:k},r.a.createElement(v,null),r.a.createElement(m.a,{store:t},r.a.createElement(f.a,{persistor:n,loading:null},r.a.createElement(Aa,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[387,1,2]]]);
//# sourceMappingURL=main.21360760.chunk.js.map